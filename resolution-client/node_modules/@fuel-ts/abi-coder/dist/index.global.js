"use strict";(()=>{var Ti=Object.create;var we=Object.defineProperty;var Ei=Object.getOwnPropertyDescriptor;var Ni=Object.getOwnPropertyNames;var Ci=Object.getPrototypeOf,Ii=Object.prototype.hasOwnProperty;var Oi=(o,t,e)=>t in o?we(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var fn=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(t,e)=>(typeof require!="undefined"?require:t)[e]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var _t=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);var Ri=(o,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ni(t))!Ii.call(o,i)&&i!==e&&we(o,i,{get:()=>t[i],enumerable:!(a=Ei(t,i))||a.enumerable});return o};var hn=(o,t,e)=>(e=o!=null?Ti(Ci(o)):{},Ri(t||!o||!o.__esModule?we(e,"default",{value:o,enumerable:!0}):e,o));var Br=(o,t,e)=>(Oi(o,typeof t!="symbol"?t+"":t,e),e),un=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var sr=(o,t,e)=>(un(o,t,"read from private field"),e?e.call(o):t.get(o)),Fr=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},Ur=(o,t,e,a)=>(un(o,t,"write to private field"),a?a.call(o,e):t.set(o,e),e);var _n=_t((An,Te)=>{(function(o,t){"use strict";function e(p,r){if(!p)throw new Error(r||"Assertion failed")}function a(p,r){p.super_=r;var s=function(){};s.prototype=r.prototype,p.prototype=new s,p.prototype.constructor=p}function i(p,r,s){if(i.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((r==="le"||r==="be")&&(s=r,r=10),this._init(p||0,r||10,s||"be"))}typeof o=="object"?o.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var d;try{typeof window<"u"&&typeof window.Buffer<"u"?d=window.Buffer:d=fn("buffer").Buffer}catch{}i.isBN=function(r){return r instanceof i?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===i.wordSize&&Array.isArray(r.words)},i.max=function(r,s){return r.cmp(s)>0?r:s},i.min=function(r,s){return r.cmp(s)<0?r:s},i.prototype._init=function(r,s,f){if(typeof r=="number")return this._initNumber(r,s,f);if(typeof r=="object")return this._initArray(r,s,f);s==="hex"&&(s=16),e(s===(s|0)&&s>=2&&s<=36),r=r.toString().replace(/\s+/g,"");var h=0;r[0]==="-"&&(h++,this.negative=1),h<r.length&&(s===16?this._parseHex(r,h,f):(this._parseBase(r,s,h),f==="le"&&this._initArray(this.toArray(),s,f)))},i.prototype._initNumber=function(r,s,f){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(e(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),s,f)},i.prototype._initArray=function(r,s,f){if(e(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u,m,g=0;if(f==="be")for(h=r.length-1,u=0;h>=0;h-=3)m=r[h]|r[h-1]<<8|r[h-2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);else if(f==="le")for(h=0,u=0;h<r.length;h+=3)m=r[h]|r[h+1]<<8|r[h+2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);return this._strip()};function y(p,r){var s=p.charCodeAt(r);if(s>=48&&s<=57)return s-48;if(s>=65&&s<=70)return s-55;if(s>=97&&s<=102)return s-87;e(!1,"Invalid character in "+p)}function v(p,r,s){var f=y(p,s);return s-1>=r&&(f|=y(p,s-1)<<4),f}i.prototype._parseHex=function(r,s,f){this.length=Math.ceil((r.length-s)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u=0,m=0,g;if(f==="be")for(h=r.length-1;h>=s;h-=2)g=v(r,s,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8;else{var l=r.length-s;for(h=l%2===0?s+1:s;h<r.length;h+=2)g=v(r,s,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8}this._strip()};function x(p,r,s,f){for(var h=0,u=0,m=Math.min(p.length,s),g=r;g<m;g++){var l=p.charCodeAt(g)-48;h*=f,l>=49?u=l-49+10:l>=17?u=l-17+10:u=l,e(l>=0&&u<f,"Invalid character"),h+=u}return h}i.prototype._parseBase=function(r,s,f){this.words=[0],this.length=1;for(var h=0,u=1;u<=67108863;u*=s)h++;h--,u=u/s|0;for(var m=r.length-f,g=m%h,l=Math.min(m,m-g)+f,n=0,c=f;c<l;c+=h)n=x(r,c,c+h,s),this.imuln(u),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(g!==0){var w=1;for(n=x(r,c,r.length,s),c=0;c<g;c++)w*=s;this.imuln(w),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this._strip()},i.prototype.copy=function(r){r.words=new Array(this.length);for(var s=0;s<this.length;s++)r.words[s]=this.words[s];r.length=this.length,r.negative=this.negative,r.red=this.red};function b(p,r){p.words=r.words,p.length=r.length,p.negative=r.negative,p.red=r.red}if(i.prototype._move=function(r){b(r,this)},i.prototype.clone=function(){var r=new i(null);return this.copy(r),r},i.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(r,s){r=r||10,s=s|0||1;var f;if(r===16||r==="hex"){f="";for(var h=0,u=0,m=0;m<this.length;m++){var g=this.words[m],l=((g<<h|u)&16777215).toString(16);u=g>>>24-h&16777215,h+=2,h>=26&&(h-=26,m--),u!==0||m!==this.length-1?f=T[6-l.length]+l+f:f=l+f}for(u!==0&&(f=u.toString(16)+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(r===(r|0)&&r>=2&&r<=36){var n=O[r],c=C[r];f="";var w=this.clone();for(w.negative=0;!w.isZero();){var M=w.modrn(c).toString(r);w=w.idivn(c),w.isZero()?f=M+f:f=T[n-M.length]+M+f}for(this.isZero()&&(f="0"+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},i.prototype.toJSON=function(){return this.toString(16,2)},d&&(i.prototype.toBuffer=function(r,s){return this.toArrayLike(d,r,s)}),i.prototype.toArray=function(r,s){return this.toArrayLike(Array,r,s)};var R=function(r,s){return r.allocUnsafe?r.allocUnsafe(s):new r(s)};i.prototype.toArrayLike=function(r,s,f){this._strip();var h=this.byteLength(),u=f||Math.max(1,h);e(h<=u,"byte array longer than desired length"),e(u>0,"Requested array length <= 0");var m=R(r,u),g=s==="le"?"LE":"BE";return this["_toArrayLike"+g](m,h),m},i.prototype._toArrayLikeLE=function(r,s){for(var f=0,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;r[f++]=g&255,f<r.length&&(r[f++]=g>>8&255),f<r.length&&(r[f++]=g>>16&255),m===6?(f<r.length&&(r[f++]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f<r.length)for(r[f++]=h;f<r.length;)r[f++]=0},i.prototype._toArrayLikeBE=function(r,s){for(var f=r.length-1,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;r[f--]=g&255,f>=0&&(r[f--]=g>>8&255),f>=0&&(r[f--]=g>>16&255),m===6?(f>=0&&(r[f--]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f>=0)for(r[f--]=h;f>=0;)r[f--]=0},Math.clz32?i.prototype._countBits=function(r){return 32-Math.clz32(r)}:i.prototype._countBits=function(r){var s=r,f=0;return s>=4096&&(f+=13,s>>>=13),s>=64&&(f+=7,s>>>=7),s>=8&&(f+=4,s>>>=4),s>=2&&(f+=2,s>>>=2),f+s},i.prototype._zeroBits=function(r){if(r===0)return 26;var s=r,f=0;return(s&8191)===0&&(f+=13,s>>>=13),(s&127)===0&&(f+=7,s>>>=7),(s&15)===0&&(f+=4,s>>>=4),(s&3)===0&&(f+=2,s>>>=2),(s&1)===0&&f++,f},i.prototype.bitLength=function(){var r=this.words[this.length-1],s=this._countBits(r);return(this.length-1)*26+s};function Et(p){for(var r=new Array(p.bitLength()),s=0;s<r.length;s++){var f=s/26|0,h=s%26;r[s]=p.words[f]>>>h&1}return r}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,s=0;s<this.length;s++){var f=this._zeroBits(this.words[s]);if(r+=f,f!==26)break}return r},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},i.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var s=0;s<r.length;s++)this.words[s]=this.words[s]|r.words[s];return this._strip()},i.prototype.ior=function(r){return e((this.negative|r.negative)===0),this.iuor(r)},i.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},i.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},i.prototype.iuand=function(r){var s;this.length>r.length?s=r:s=this;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]&r.words[f];return this.length=s.length,this._strip()},i.prototype.iand=function(r){return e((this.negative|r.negative)===0),this.iuand(r)},i.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},i.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},i.prototype.iuxor=function(r){var s,f;this.length>r.length?(s=this,f=r):(s=r,f=this);for(var h=0;h<f.length;h++)this.words[h]=s.words[h]^f.words[h];if(this!==s)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=s.length,this._strip()},i.prototype.ixor=function(r){return e((this.negative|r.negative)===0),this.iuxor(r)},i.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},i.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},i.prototype.inotn=function(r){e(typeof r=="number"&&r>=0);var s=Math.ceil(r/26)|0,f=r%26;this._expand(s),f>0&&s--;for(var h=0;h<s;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(r){return this.clone().inotn(r)},i.prototype.setn=function(r,s){e(typeof r=="number"&&r>=0);var f=r/26|0,h=r%26;return this._expand(f+1),s?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(r){var s;if(this.negative!==0&&r.negative===0)return this.negative=0,s=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,s=this.isub(r),r.negative=1,s._normSign();var f,h;this.length>r.length?(f=this,h=r):(f=r,h=this);for(var u=0,m=0;m<h.length;m++)s=(f.words[m]|0)+(h.words[m]|0)+u,this.words[m]=s&67108863,u=s>>>26;for(;u!==0&&m<f.length;m++)s=(f.words[m]|0)+u,this.words[m]=s&67108863,u=s>>>26;if(this.length=f.length,u!==0)this.words[this.length]=u,this.length++;else if(f!==this)for(;m<f.length;m++)this.words[m]=f.words[m];return this},i.prototype.add=function(r){var s;return r.negative!==0&&this.negative===0?(r.negative=0,s=this.sub(r),r.negative^=1,s):r.negative===0&&this.negative!==0?(this.negative=0,s=r.sub(this),this.negative=1,s):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},i.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var s=this.iadd(r);return r.negative=1,s._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var f=this.cmp(r);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,u;f>0?(h=this,u=r):(h=r,u=this);for(var m=0,g=0;g<u.length;g++)s=(h.words[g]|0)-(u.words[g]|0)+m,m=s>>26,this.words[g]=s&67108863;for(;m!==0&&g<h.length;g++)s=(h.words[g]|0)+m,m=s>>26,this.words[g]=s&67108863;if(m===0&&g<h.length&&h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=Math.max(this.length,g),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(r){return this.clone().isub(r)};function Rt(p,r,s){s.negative=r.negative^p.negative;var f=p.length+r.length|0;s.length=f,f=f-1|0;var h=p.words[0]|0,u=r.words[0]|0,m=h*u,g=m&67108863,l=m/67108864|0;s.words[0]=g;for(var n=1;n<f;n++){for(var c=l>>>26,w=l&67108863,M=Math.min(n,r.length-1),_=Math.max(0,n-p.length+1);_<=M;_++){var E=n-_|0;h=p.words[E]|0,u=r.words[_]|0,m=h*u+w,c+=m/67108864|0,w=m&67108863}s.words[n]=w|0,l=c|0}return l!==0?s.words[n]=l|0:s.length--,s._strip()}var Xt=function(r,s,f){var h=r.words,u=s.words,m=f.words,g=0,l,n,c,w=h[0]|0,M=w&8191,_=w>>>13,E=h[1]|0,I=E&8191,F=E>>>13,Qt=h[2]|0,U=Qt&8191,D=Qt>>>13,ze=h[3]|0,k=ze&8191,V=ze>>>13,He=h[4]|0,J=He&8191,q=He>>>13,Ze=h[5]|0,$=Ze&8191,z=Ze>>>13,We=h[6]|0,H=We&8191,Z=We>>>13,Ge=h[7]|0,W=Ge&8191,G=Ge>>>13,Ke=h[8]|0,K=Ke&8191,X=Ke>>>13,Xe=h[9]|0,Y=Xe&8191,Q=Xe>>>13,Ye=u[0]|0,j=Ye&8191,tt=Ye>>>13,Qe=u[1]|0,rt=Qe&8191,et=Qe>>>13,je=u[2]|0,nt=je&8191,it=je>>>13,tn=u[3]|0,ot=tn&8191,st=tn>>>13,rn=u[4]|0,at=rn&8191,ft=rn>>>13,en=u[5]|0,ht=en&8191,ut=en>>>13,nn=u[6]|0,lt=nn&8191,ct=nn>>>13,on=u[7]|0,dt=on&8191,pt=on>>>13,sn=u[8]|0,mt=sn&8191,gt=sn>>>13,an=u[9]|0,yt=an&8191,vt=an>>>13;f.negative=r.negative^s.negative,f.length=19,l=Math.imul(M,j),n=Math.imul(M,tt),n=n+Math.imul(_,j)|0,c=Math.imul(_,tt);var ee=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul(I,j),n=Math.imul(I,tt),n=n+Math.imul(F,j)|0,c=Math.imul(F,tt),l=l+Math.imul(M,rt)|0,n=n+Math.imul(M,et)|0,n=n+Math.imul(_,rt)|0,c=c+Math.imul(_,et)|0;var ne=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(U,j),n=Math.imul(U,tt),n=n+Math.imul(D,j)|0,c=Math.imul(D,tt),l=l+Math.imul(I,rt)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,rt)|0,c=c+Math.imul(F,et)|0,l=l+Math.imul(M,nt)|0,n=n+Math.imul(M,it)|0,n=n+Math.imul(_,nt)|0,c=c+Math.imul(_,it)|0;var ie=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ie>>>26)|0,ie&=67108863,l=Math.imul(k,j),n=Math.imul(k,tt),n=n+Math.imul(V,j)|0,c=Math.imul(V,tt),l=l+Math.imul(U,rt)|0,n=n+Math.imul(U,et)|0,n=n+Math.imul(D,rt)|0,c=c+Math.imul(D,et)|0,l=l+Math.imul(I,nt)|0,n=n+Math.imul(I,it)|0,n=n+Math.imul(F,nt)|0,c=c+Math.imul(F,it)|0,l=l+Math.imul(M,ot)|0,n=n+Math.imul(M,st)|0,n=n+Math.imul(_,ot)|0,c=c+Math.imul(_,st)|0;var oe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(J,j),n=Math.imul(J,tt),n=n+Math.imul(q,j)|0,c=Math.imul(q,tt),l=l+Math.imul(k,rt)|0,n=n+Math.imul(k,et)|0,n=n+Math.imul(V,rt)|0,c=c+Math.imul(V,et)|0,l=l+Math.imul(U,nt)|0,n=n+Math.imul(U,it)|0,n=n+Math.imul(D,nt)|0,c=c+Math.imul(D,it)|0,l=l+Math.imul(I,ot)|0,n=n+Math.imul(I,st)|0,n=n+Math.imul(F,ot)|0,c=c+Math.imul(F,st)|0,l=l+Math.imul(M,at)|0,n=n+Math.imul(M,ft)|0,n=n+Math.imul(_,at)|0,c=c+Math.imul(_,ft)|0;var se=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(se>>>26)|0,se&=67108863,l=Math.imul($,j),n=Math.imul($,tt),n=n+Math.imul(z,j)|0,c=Math.imul(z,tt),l=l+Math.imul(J,rt)|0,n=n+Math.imul(J,et)|0,n=n+Math.imul(q,rt)|0,c=c+Math.imul(q,et)|0,l=l+Math.imul(k,nt)|0,n=n+Math.imul(k,it)|0,n=n+Math.imul(V,nt)|0,c=c+Math.imul(V,it)|0,l=l+Math.imul(U,ot)|0,n=n+Math.imul(U,st)|0,n=n+Math.imul(D,ot)|0,c=c+Math.imul(D,st)|0,l=l+Math.imul(I,at)|0,n=n+Math.imul(I,ft)|0,n=n+Math.imul(F,at)|0,c=c+Math.imul(F,ft)|0,l=l+Math.imul(M,ht)|0,n=n+Math.imul(M,ut)|0,n=n+Math.imul(_,ht)|0,c=c+Math.imul(_,ut)|0;var ae=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(H,j),n=Math.imul(H,tt),n=n+Math.imul(Z,j)|0,c=Math.imul(Z,tt),l=l+Math.imul($,rt)|0,n=n+Math.imul($,et)|0,n=n+Math.imul(z,rt)|0,c=c+Math.imul(z,et)|0,l=l+Math.imul(J,nt)|0,n=n+Math.imul(J,it)|0,n=n+Math.imul(q,nt)|0,c=c+Math.imul(q,it)|0,l=l+Math.imul(k,ot)|0,n=n+Math.imul(k,st)|0,n=n+Math.imul(V,ot)|0,c=c+Math.imul(V,st)|0,l=l+Math.imul(U,at)|0,n=n+Math.imul(U,ft)|0,n=n+Math.imul(D,at)|0,c=c+Math.imul(D,ft)|0,l=l+Math.imul(I,ht)|0,n=n+Math.imul(I,ut)|0,n=n+Math.imul(F,ht)|0,c=c+Math.imul(F,ut)|0,l=l+Math.imul(M,lt)|0,n=n+Math.imul(M,ct)|0,n=n+Math.imul(_,lt)|0,c=c+Math.imul(_,ct)|0;var fe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(fe>>>26)|0,fe&=67108863,l=Math.imul(W,j),n=Math.imul(W,tt),n=n+Math.imul(G,j)|0,c=Math.imul(G,tt),l=l+Math.imul(H,rt)|0,n=n+Math.imul(H,et)|0,n=n+Math.imul(Z,rt)|0,c=c+Math.imul(Z,et)|0,l=l+Math.imul($,nt)|0,n=n+Math.imul($,it)|0,n=n+Math.imul(z,nt)|0,c=c+Math.imul(z,it)|0,l=l+Math.imul(J,ot)|0,n=n+Math.imul(J,st)|0,n=n+Math.imul(q,ot)|0,c=c+Math.imul(q,st)|0,l=l+Math.imul(k,at)|0,n=n+Math.imul(k,ft)|0,n=n+Math.imul(V,at)|0,c=c+Math.imul(V,ft)|0,l=l+Math.imul(U,ht)|0,n=n+Math.imul(U,ut)|0,n=n+Math.imul(D,ht)|0,c=c+Math.imul(D,ut)|0,l=l+Math.imul(I,lt)|0,n=n+Math.imul(I,ct)|0,n=n+Math.imul(F,lt)|0,c=c+Math.imul(F,ct)|0,l=l+Math.imul(M,dt)|0,n=n+Math.imul(M,pt)|0,n=n+Math.imul(_,dt)|0,c=c+Math.imul(_,pt)|0;var he=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(he>>>26)|0,he&=67108863,l=Math.imul(K,j),n=Math.imul(K,tt),n=n+Math.imul(X,j)|0,c=Math.imul(X,tt),l=l+Math.imul(W,rt)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(G,rt)|0,c=c+Math.imul(G,et)|0,l=l+Math.imul(H,nt)|0,n=n+Math.imul(H,it)|0,n=n+Math.imul(Z,nt)|0,c=c+Math.imul(Z,it)|0,l=l+Math.imul($,ot)|0,n=n+Math.imul($,st)|0,n=n+Math.imul(z,ot)|0,c=c+Math.imul(z,st)|0,l=l+Math.imul(J,at)|0,n=n+Math.imul(J,ft)|0,n=n+Math.imul(q,at)|0,c=c+Math.imul(q,ft)|0,l=l+Math.imul(k,ht)|0,n=n+Math.imul(k,ut)|0,n=n+Math.imul(V,ht)|0,c=c+Math.imul(V,ut)|0,l=l+Math.imul(U,lt)|0,n=n+Math.imul(U,ct)|0,n=n+Math.imul(D,lt)|0,c=c+Math.imul(D,ct)|0,l=l+Math.imul(I,dt)|0,n=n+Math.imul(I,pt)|0,n=n+Math.imul(F,dt)|0,c=c+Math.imul(F,pt)|0,l=l+Math.imul(M,mt)|0,n=n+Math.imul(M,gt)|0,n=n+Math.imul(_,mt)|0,c=c+Math.imul(_,gt)|0;var ue=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,l=Math.imul(Y,j),n=Math.imul(Y,tt),n=n+Math.imul(Q,j)|0,c=Math.imul(Q,tt),l=l+Math.imul(K,rt)|0,n=n+Math.imul(K,et)|0,n=n+Math.imul(X,rt)|0,c=c+Math.imul(X,et)|0,l=l+Math.imul(W,nt)|0,n=n+Math.imul(W,it)|0,n=n+Math.imul(G,nt)|0,c=c+Math.imul(G,it)|0,l=l+Math.imul(H,ot)|0,n=n+Math.imul(H,st)|0,n=n+Math.imul(Z,ot)|0,c=c+Math.imul(Z,st)|0,l=l+Math.imul($,at)|0,n=n+Math.imul($,ft)|0,n=n+Math.imul(z,at)|0,c=c+Math.imul(z,ft)|0,l=l+Math.imul(J,ht)|0,n=n+Math.imul(J,ut)|0,n=n+Math.imul(q,ht)|0,c=c+Math.imul(q,ut)|0,l=l+Math.imul(k,lt)|0,n=n+Math.imul(k,ct)|0,n=n+Math.imul(V,lt)|0,c=c+Math.imul(V,ct)|0,l=l+Math.imul(U,dt)|0,n=n+Math.imul(U,pt)|0,n=n+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,l=l+Math.imul(I,mt)|0,n=n+Math.imul(I,gt)|0,n=n+Math.imul(F,mt)|0,c=c+Math.imul(F,gt)|0,l=l+Math.imul(M,yt)|0,n=n+Math.imul(M,vt)|0,n=n+Math.imul(_,yt)|0,c=c+Math.imul(_,vt)|0;var le=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(le>>>26)|0,le&=67108863,l=Math.imul(Y,rt),n=Math.imul(Y,et),n=n+Math.imul(Q,rt)|0,c=Math.imul(Q,et),l=l+Math.imul(K,nt)|0,n=n+Math.imul(K,it)|0,n=n+Math.imul(X,nt)|0,c=c+Math.imul(X,it)|0,l=l+Math.imul(W,ot)|0,n=n+Math.imul(W,st)|0,n=n+Math.imul(G,ot)|0,c=c+Math.imul(G,st)|0,l=l+Math.imul(H,at)|0,n=n+Math.imul(H,ft)|0,n=n+Math.imul(Z,at)|0,c=c+Math.imul(Z,ft)|0,l=l+Math.imul($,ht)|0,n=n+Math.imul($,ut)|0,n=n+Math.imul(z,ht)|0,c=c+Math.imul(z,ut)|0,l=l+Math.imul(J,lt)|0,n=n+Math.imul(J,ct)|0,n=n+Math.imul(q,lt)|0,c=c+Math.imul(q,ct)|0,l=l+Math.imul(k,dt)|0,n=n+Math.imul(k,pt)|0,n=n+Math.imul(V,dt)|0,c=c+Math.imul(V,pt)|0,l=l+Math.imul(U,mt)|0,n=n+Math.imul(U,gt)|0,n=n+Math.imul(D,mt)|0,c=c+Math.imul(D,gt)|0,l=l+Math.imul(I,yt)|0,n=n+Math.imul(I,vt)|0,n=n+Math.imul(F,yt)|0,c=c+Math.imul(F,vt)|0;var ce=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(Y,nt),n=Math.imul(Y,it),n=n+Math.imul(Q,nt)|0,c=Math.imul(Q,it),l=l+Math.imul(K,ot)|0,n=n+Math.imul(K,st)|0,n=n+Math.imul(X,ot)|0,c=c+Math.imul(X,st)|0,l=l+Math.imul(W,at)|0,n=n+Math.imul(W,ft)|0,n=n+Math.imul(G,at)|0,c=c+Math.imul(G,ft)|0,l=l+Math.imul(H,ht)|0,n=n+Math.imul(H,ut)|0,n=n+Math.imul(Z,ht)|0,c=c+Math.imul(Z,ut)|0,l=l+Math.imul($,lt)|0,n=n+Math.imul($,ct)|0,n=n+Math.imul(z,lt)|0,c=c+Math.imul(z,ct)|0,l=l+Math.imul(J,dt)|0,n=n+Math.imul(J,pt)|0,n=n+Math.imul(q,dt)|0,c=c+Math.imul(q,pt)|0,l=l+Math.imul(k,mt)|0,n=n+Math.imul(k,gt)|0,n=n+Math.imul(V,mt)|0,c=c+Math.imul(V,gt)|0,l=l+Math.imul(U,yt)|0,n=n+Math.imul(U,vt)|0,n=n+Math.imul(D,yt)|0,c=c+Math.imul(D,vt)|0;var de=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Y,ot),n=Math.imul(Y,st),n=n+Math.imul(Q,ot)|0,c=Math.imul(Q,st),l=l+Math.imul(K,at)|0,n=n+Math.imul(K,ft)|0,n=n+Math.imul(X,at)|0,c=c+Math.imul(X,ft)|0,l=l+Math.imul(W,ht)|0,n=n+Math.imul(W,ut)|0,n=n+Math.imul(G,ht)|0,c=c+Math.imul(G,ut)|0,l=l+Math.imul(H,lt)|0,n=n+Math.imul(H,ct)|0,n=n+Math.imul(Z,lt)|0,c=c+Math.imul(Z,ct)|0,l=l+Math.imul($,dt)|0,n=n+Math.imul($,pt)|0,n=n+Math.imul(z,dt)|0,c=c+Math.imul(z,pt)|0,l=l+Math.imul(J,mt)|0,n=n+Math.imul(J,gt)|0,n=n+Math.imul(q,mt)|0,c=c+Math.imul(q,gt)|0,l=l+Math.imul(k,yt)|0,n=n+Math.imul(k,vt)|0,n=n+Math.imul(V,yt)|0,c=c+Math.imul(V,vt)|0;var pe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(Y,at),n=Math.imul(Y,ft),n=n+Math.imul(Q,at)|0,c=Math.imul(Q,ft),l=l+Math.imul(K,ht)|0,n=n+Math.imul(K,ut)|0,n=n+Math.imul(X,ht)|0,c=c+Math.imul(X,ut)|0,l=l+Math.imul(W,lt)|0,n=n+Math.imul(W,ct)|0,n=n+Math.imul(G,lt)|0,c=c+Math.imul(G,ct)|0,l=l+Math.imul(H,dt)|0,n=n+Math.imul(H,pt)|0,n=n+Math.imul(Z,dt)|0,c=c+Math.imul(Z,pt)|0,l=l+Math.imul($,mt)|0,n=n+Math.imul($,gt)|0,n=n+Math.imul(z,mt)|0,c=c+Math.imul(z,gt)|0,l=l+Math.imul(J,yt)|0,n=n+Math.imul(J,vt)|0,n=n+Math.imul(q,yt)|0,c=c+Math.imul(q,vt)|0;var me=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(Y,ht),n=Math.imul(Y,ut),n=n+Math.imul(Q,ht)|0,c=Math.imul(Q,ut),l=l+Math.imul(K,lt)|0,n=n+Math.imul(K,ct)|0,n=n+Math.imul(X,lt)|0,c=c+Math.imul(X,ct)|0,l=l+Math.imul(W,dt)|0,n=n+Math.imul(W,pt)|0,n=n+Math.imul(G,dt)|0,c=c+Math.imul(G,pt)|0,l=l+Math.imul(H,mt)|0,n=n+Math.imul(H,gt)|0,n=n+Math.imul(Z,mt)|0,c=c+Math.imul(Z,gt)|0,l=l+Math.imul($,yt)|0,n=n+Math.imul($,vt)|0,n=n+Math.imul(z,yt)|0,c=c+Math.imul(z,vt)|0;var ge=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,l=Math.imul(Y,lt),n=Math.imul(Y,ct),n=n+Math.imul(Q,lt)|0,c=Math.imul(Q,ct),l=l+Math.imul(K,dt)|0,n=n+Math.imul(K,pt)|0,n=n+Math.imul(X,dt)|0,c=c+Math.imul(X,pt)|0,l=l+Math.imul(W,mt)|0,n=n+Math.imul(W,gt)|0,n=n+Math.imul(G,mt)|0,c=c+Math.imul(G,gt)|0,l=l+Math.imul(H,yt)|0,n=n+Math.imul(H,vt)|0,n=n+Math.imul(Z,yt)|0,c=c+Math.imul(Z,vt)|0;var ye=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,l=Math.imul(Y,dt),n=Math.imul(Y,pt),n=n+Math.imul(Q,dt)|0,c=Math.imul(Q,pt),l=l+Math.imul(K,mt)|0,n=n+Math.imul(K,gt)|0,n=n+Math.imul(X,mt)|0,c=c+Math.imul(X,gt)|0,l=l+Math.imul(W,yt)|0,n=n+Math.imul(W,vt)|0,n=n+Math.imul(G,yt)|0,c=c+Math.imul(G,vt)|0;var ve=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,l=Math.imul(Y,mt),n=Math.imul(Y,gt),n=n+Math.imul(Q,mt)|0,c=Math.imul(Q,gt),l=l+Math.imul(K,yt)|0,n=n+Math.imul(K,vt)|0,n=n+Math.imul(X,yt)|0,c=c+Math.imul(X,vt)|0;var xe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,l=Math.imul(Y,yt),n=Math.imul(Y,vt),n=n+Math.imul(Q,yt)|0,c=Math.imul(Q,vt);var be=(g+l|0)+((n&8191)<<13)|0;return g=(c+(n>>>13)|0)+(be>>>26)|0,be&=67108863,m[0]=ee,m[1]=ne,m[2]=ie,m[3]=oe,m[4]=se,m[5]=ae,m[6]=fe,m[7]=he,m[8]=ue,m[9]=le,m[10]=ce,m[11]=de,m[12]=pe,m[13]=me,m[14]=ge,m[15]=ye,m[16]=ve,m[17]=xe,m[18]=be,g!==0&&(m[19]=g,f.length++),f};Math.imul||(Xt=Rt);function lr(p,r,s){s.negative=r.negative^p.negative,s.length=p.length+r.length;for(var f=0,h=0,u=0;u<s.length-1;u++){var m=h;h=0;for(var g=f&67108863,l=Math.min(u,r.length-1),n=Math.max(0,u-p.length+1);n<=l;n++){var c=u-n,w=p.words[c]|0,M=r.words[n]|0,_=w*M,E=_&67108863;m=m+(_/67108864|0)|0,E=E+g|0,g=E&67108863,m=m+(E>>>26)|0,h+=m>>>26,m&=67108863}s.words[u]=g,f=m,m=h}return f!==0?s.words[u]=f:s.length--,s._strip()}function cr(p,r,s){return lr(p,r,s)}i.prototype.mulTo=function(r,s){var f,h=this.length+r.length;return this.length===10&&r.length===10?f=Xt(this,r,s):h<63?f=Rt(this,r,s):h<1024?f=lr(this,r,s):f=cr(this,r,s),f};function Mt(p,r){this.x=p,this.y=r}Mt.prototype.makeRBT=function(r){for(var s=new Array(r),f=i.prototype._countBits(r)-1,h=0;h<r;h++)s[h]=this.revBin(h,f,r);return s},Mt.prototype.revBin=function(r,s,f){if(r===0||r===f-1)return r;for(var h=0,u=0;u<s;u++)h|=(r&1)<<s-u-1,r>>=1;return h},Mt.prototype.permute=function(r,s,f,h,u,m){for(var g=0;g<m;g++)h[g]=s[r[g]],u[g]=f[r[g]]},Mt.prototype.transform=function(r,s,f,h,u,m){this.permute(m,r,s,f,h,u);for(var g=1;g<u;g<<=1)for(var l=g<<1,n=Math.cos(2*Math.PI/l),c=Math.sin(2*Math.PI/l),w=0;w<u;w+=l)for(var M=n,_=c,E=0;E<g;E++){var I=f[w+E],F=h[w+E],Qt=f[w+E+g],U=h[w+E+g],D=M*Qt-_*U;U=M*U+_*Qt,Qt=D,f[w+E]=I+Qt,h[w+E]=F+U,f[w+E+g]=I-Qt,h[w+E+g]=F-U,E!==l&&(D=n*M-c*_,_=n*_+c*M,M=D)}},Mt.prototype.guessLen13b=function(r,s){var f=Math.max(s,r)|1,h=f&1,u=0;for(f=f/2|0;f;f=f>>>1)u++;return 1<<u+1+h},Mt.prototype.conjugate=function(r,s,f){if(!(f<=1))for(var h=0;h<f/2;h++){var u=r[h];r[h]=r[f-h-1],r[f-h-1]=u,u=s[h],s[h]=-s[f-h-1],s[f-h-1]=-u}},Mt.prototype.normalize13b=function(r,s){for(var f=0,h=0;h<s/2;h++){var u=Math.round(r[2*h+1]/s)*8192+Math.round(r[2*h]/s)+f;r[h]=u&67108863,u<67108864?f=0:f=u/67108864|0}return r},Mt.prototype.convert13b=function(r,s,f,h){for(var u=0,m=0;m<s;m++)u=u+(r[m]|0),f[2*m]=u&8191,u=u>>>13,f[2*m+1]=u&8191,u=u>>>13;for(m=2*s;m<h;++m)f[m]=0;e(u===0),e((u&-8192)===0)},Mt.prototype.stub=function(r){for(var s=new Array(r),f=0;f<r;f++)s[f]=0;return s},Mt.prototype.mulp=function(r,s,f){var h=2*this.guessLen13b(r.length,s.length),u=this.makeRBT(h),m=this.stub(h),g=new Array(h),l=new Array(h),n=new Array(h),c=new Array(h),w=new Array(h),M=new Array(h),_=f.words;_.length=h,this.convert13b(r.words,r.length,g,h),this.convert13b(s.words,s.length,c,h),this.transform(g,m,l,n,h,u),this.transform(c,m,w,M,h,u);for(var E=0;E<h;E++){var I=l[E]*w[E]-n[E]*M[E];n[E]=l[E]*M[E]+n[E]*w[E],l[E]=I}return this.conjugate(l,n,h),this.transform(l,n,_,m,h,u),this.conjugate(_,m,h),this.normalize13b(_,h),f.negative=r.negative^s.negative,f.length=r.length+s.length,f._strip()},i.prototype.mul=function(r){var s=new i(null);return s.words=new Array(this.length+r.length),this.mulTo(r,s)},i.prototype.mulf=function(r){var s=new i(null);return s.words=new Array(this.length+r.length),cr(this,r,s)},i.prototype.imul=function(r){return this.clone().mulTo(r,this)},i.prototype.imuln=function(r){var s=r<0;s&&(r=-r),e(typeof r=="number"),e(r<67108864);for(var f=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*r,m=(u&67108863)+(f&67108863);f>>=26,f+=u/67108864|0,f+=m>>>26,this.words[h]=m&67108863}return f!==0&&(this.words[h]=f,this.length++),s?this.ineg():this},i.prototype.muln=function(r){return this.clone().imuln(r)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(r){var s=Et(r);if(s.length===0)return new i(1);for(var f=this,h=0;h<s.length&&s[h]===0;h++,f=f.sqr());if(++h<s.length)for(var u=f.sqr();h<s.length;h++,u=u.sqr())s[h]!==0&&(f=f.mul(u));return f},i.prototype.iushln=function(r){e(typeof r=="number"&&r>=0);var s=r%26,f=(r-s)/26,h=67108863>>>26-s<<26-s,u;if(s!==0){var m=0;for(u=0;u<this.length;u++){var g=this.words[u]&h,l=(this.words[u]|0)-g<<s;this.words[u]=l|m,m=g>>>26-s}m&&(this.words[u]=m,this.length++)}if(f!==0){for(u=this.length-1;u>=0;u--)this.words[u+f]=this.words[u];for(u=0;u<f;u++)this.words[u]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(r){return e(this.negative===0),this.iushln(r)},i.prototype.iushrn=function(r,s,f){e(typeof r=="number"&&r>=0);var h;s?h=(s-s%26)/26:h=0;var u=r%26,m=Math.min((r-u)/26,this.length),g=67108863^67108863>>>u<<u,l=f;if(h-=m,h=Math.max(0,h),l){for(var n=0;n<m;n++)l.words[n]=this.words[n];l.length=m}if(m!==0)if(this.length>m)for(this.length-=m,n=0;n<this.length;n++)this.words[n]=this.words[n+m];else this.words[0]=0,this.length=1;var c=0;for(n=this.length-1;n>=0&&(c!==0||n>=h);n--){var w=this.words[n]|0;this.words[n]=c<<26-u|w>>>u,c=w&g}return l&&c!==0&&(l.words[l.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(r,s,f){return e(this.negative===0),this.iushrn(r,s,f)},i.prototype.shln=function(r){return this.clone().ishln(r)},i.prototype.ushln=function(r){return this.clone().iushln(r)},i.prototype.shrn=function(r){return this.clone().ishrn(r)},i.prototype.ushrn=function(r){return this.clone().iushrn(r)},i.prototype.testn=function(r){e(typeof r=="number"&&r>=0);var s=r%26,f=(r-s)/26,h=1<<s;if(this.length<=f)return!1;var u=this.words[f];return!!(u&h)},i.prototype.imaskn=function(r){e(typeof r=="number"&&r>=0);var s=r%26,f=(r-s)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(s!==0&&f++,this.length=Math.min(f,this.length),s!==0){var h=67108863^67108863>>>s<<s;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(r){return this.clone().imaskn(r)},i.prototype.iaddn=function(r){return e(typeof r=="number"),e(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<=r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},i.prototype._iaddn=function(r){this.words[0]+=r;for(var s=0;s<this.length&&this.words[s]>=67108864;s++)this.words[s]-=67108864,s===this.length-1?this.words[s+1]=1:this.words[s+1]++;return this.length=Math.max(this.length,s+1),this},i.prototype.isubn=function(r){if(e(typeof r=="number"),e(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var s=0;s<this.length&&this.words[s]<0;s++)this.words[s]+=67108864,this.words[s+1]-=1;return this._strip()},i.prototype.addn=function(r){return this.clone().iaddn(r)},i.prototype.subn=function(r){return this.clone().isubn(r)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(r,s,f){var h=r.length+f,u;this._expand(h);var m,g=0;for(u=0;u<r.length;u++){m=(this.words[u+f]|0)+g;var l=(r.words[u]|0)*s;m-=l&67108863,g=(m>>26)-(l/67108864|0),this.words[u+f]=m&67108863}for(;u<this.length-f;u++)m=(this.words[u+f]|0)+g,g=m>>26,this.words[u+f]=m&67108863;if(g===0)return this._strip();for(e(g===-1),g=0,u=0;u<this.length;u++)m=-(this.words[u]|0)+g,g=m>>26,this.words[u]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(r,s){var f=this.length-r.length,h=this.clone(),u=r,m=u.words[u.length-1]|0,g=this._countBits(m);f=26-g,f!==0&&(u=u.ushln(f),h.iushln(f),m=u.words[u.length-1]|0);var l=h.length-u.length,n;if(s!=="mod"){n=new i(null),n.length=l+1,n.words=new Array(n.length);for(var c=0;c<n.length;c++)n.words[c]=0}var w=h.clone()._ishlnsubmul(u,1,l);w.negative===0&&(h=w,n&&(n.words[l]=1));for(var M=l-1;M>=0;M--){var _=(h.words[u.length+M]|0)*67108864+(h.words[u.length+M-1]|0);for(_=Math.min(_/m|0,67108863),h._ishlnsubmul(u,_,M);h.negative!==0;)_--,h.negative=0,h._ishlnsubmul(u,1,M),h.isZero()||(h.negative^=1);n&&(n.words[M]=_)}return n&&n._strip(),h._strip(),s!=="div"&&f!==0&&h.iushrn(f),{div:n||null,mod:h}},i.prototype.divmod=function(r,s,f){if(e(!r.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,u,m;return this.negative!==0&&r.negative===0?(m=this.neg().divmod(r,s),s!=="mod"&&(h=m.div.neg()),s!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.iadd(r)),{div:h,mod:u}):this.negative===0&&r.negative!==0?(m=this.divmod(r.neg(),s),s!=="mod"&&(h=m.div.neg()),{div:h,mod:m.mod}):(this.negative&r.negative)!==0?(m=this.neg().divmod(r.neg(),s),s!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.isub(r)),{div:m.div,mod:u}):r.length>this.length||this.cmp(r)<0?{div:new i(0),mod:this}:r.length===1?s==="div"?{div:this.divn(r.words[0]),mod:null}:s==="mod"?{div:null,mod:new i(this.modrn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new i(this.modrn(r.words[0]))}:this._wordDiv(r,s)},i.prototype.div=function(r){return this.divmod(r,"div",!1).div},i.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},i.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},i.prototype.divRound=function(r){var s=this.divmod(r);if(s.mod.isZero())return s.div;var f=s.div.negative!==0?s.mod.isub(r):s.mod,h=r.ushrn(1),u=r.andln(1),m=f.cmp(h);return m<0||u===1&&m===0?s.div:s.div.negative!==0?s.div.isubn(1):s.div.iaddn(1)},i.prototype.modrn=function(r){var s=r<0;s&&(r=-r),e(r<=67108863);for(var f=(1<<26)%r,h=0,u=this.length-1;u>=0;u--)h=(f*h+(this.words[u]|0))%r;return s?-h:h},i.prototype.modn=function(r){return this.modrn(r)},i.prototype.idivn=function(r){var s=r<0;s&&(r=-r),e(r<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+f*67108864;this.words[h]=u/r|0,f=u%r}return this._strip(),s?this.ineg():this},i.prototype.divn=function(r){return this.clone().idivn(r)},i.prototype.egcd=function(r){e(r.negative===0),e(!r.isZero());var s=this,f=r.clone();s.negative!==0?s=s.umod(r):s=s.clone();for(var h=new i(1),u=new i(0),m=new i(0),g=new i(1),l=0;s.isEven()&&f.isEven();)s.iushrn(1),f.iushrn(1),++l;for(var n=f.clone(),c=s.clone();!s.isZero();){for(var w=0,M=1;(s.words[0]&M)===0&&w<26;++w,M<<=1);if(w>0)for(s.iushrn(w);w-- >0;)(h.isOdd()||u.isOdd())&&(h.iadd(n),u.isub(c)),h.iushrn(1),u.iushrn(1);for(var _=0,E=1;(f.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(f.iushrn(_);_-- >0;)(m.isOdd()||g.isOdd())&&(m.iadd(n),g.isub(c)),m.iushrn(1),g.iushrn(1);s.cmp(f)>=0?(s.isub(f),h.isub(m),u.isub(g)):(f.isub(s),m.isub(h),g.isub(u))}return{a:m,b:g,gcd:f.iushln(l)}},i.prototype._invmp=function(r){e(r.negative===0),e(!r.isZero());var s=this,f=r.clone();s.negative!==0?s=s.umod(r):s=s.clone();for(var h=new i(1),u=new i(0),m=f.clone();s.cmpn(1)>0&&f.cmpn(1)>0;){for(var g=0,l=1;(s.words[0]&l)===0&&g<26;++g,l<<=1);if(g>0)for(s.iushrn(g);g-- >0;)h.isOdd()&&h.iadd(m),h.iushrn(1);for(var n=0,c=1;(f.words[0]&c)===0&&n<26;++n,c<<=1);if(n>0)for(f.iushrn(n);n-- >0;)u.isOdd()&&u.iadd(m),u.iushrn(1);s.cmp(f)>=0?(s.isub(f),h.isub(u)):(f.isub(s),u.isub(h))}var w;return s.cmpn(1)===0?w=h:w=u,w.cmpn(0)<0&&w.iadd(r),w},i.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var s=this.clone(),f=r.clone();s.negative=0,f.negative=0;for(var h=0;s.isEven()&&f.isEven();h++)s.iushrn(1),f.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;f.isEven();)f.iushrn(1);var u=s.cmp(f);if(u<0){var m=s;s=f,f=m}else if(u===0||f.cmpn(1)===0)break;s.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(r){return this.egcd(r).a.umod(r)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(r){return this.words[0]&r},i.prototype.bincn=function(r){e(typeof r=="number");var s=r%26,f=(r-s)/26,h=1<<s;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var u=h,m=f;u!==0&&m<this.length;m++){var g=this.words[m]|0;g+=u,u=g>>>26,g&=67108863,this.words[m]=g}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(r){var s=r<0;if(this.negative!==0&&!s)return-1;if(this.negative===0&&s)return 1;this._strip();var f;if(this.length>1)f=1;else{s&&(r=-r),e(r<=67108863,"Number is too big");var h=this.words[0]|0;f=h===r?0:h<r?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var s=this.ucmp(r);return this.negative!==0?-s|0:s},i.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var s=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,u=r.words[f]|0;if(h!==u){h<u?s=-1:h>u&&(s=1);break}}return s},i.prototype.gtn=function(r){return this.cmpn(r)===1},i.prototype.gt=function(r){return this.cmp(r)===1},i.prototype.gten=function(r){return this.cmpn(r)>=0},i.prototype.gte=function(r){return this.cmp(r)>=0},i.prototype.ltn=function(r){return this.cmpn(r)===-1},i.prototype.lt=function(r){return this.cmp(r)===-1},i.prototype.lten=function(r){return this.cmpn(r)<=0},i.prototype.lte=function(r){return this.cmp(r)<=0},i.prototype.eqn=function(r){return this.cmpn(r)===0},i.prototype.eq=function(r){return this.cmp(r)===0},i.red=function(r){return new P(r)},i.prototype.toRed=function(r){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(r){return this.red=r,this},i.prototype.forceRed=function(r){return e(!this.red,"Already a number in reduction context"),this._forceRed(r)},i.prototype.redAdd=function(r){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},i.prototype.redIAdd=function(r){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},i.prototype.redSub=function(r){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},i.prototype.redISub=function(r){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},i.prototype.redShl=function(r){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},i.prototype.redMul=function(r){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},i.prototype.redIMul=function(r){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(r){return e(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var Zt={k256:null,p224:null,p192:null,p25519:null};function wt(p,r){this.name=p,this.p=new i(r,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}wt.prototype._tmp=function(){var r=new i(null);return r.words=new Array(Math.ceil(this.n/13)),r},wt.prototype.ireduce=function(r){var s=r,f;do this.split(s,this.tmp),s=this.imulK(s),s=s.iadd(this.tmp),f=s.bitLength();while(f>this.n);var h=f<this.n?-1:s.ucmp(this.p);return h===0?(s.words[0]=0,s.length=1):h>0?s.isub(this.p):s.strip!==void 0?s.strip():s._strip(),s},wt.prototype.split=function(r,s){r.iushrn(this.n,0,s)},wt.prototype.imulK=function(r){return r.imul(this.k)};function Dt(){wt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Dt,wt),Dt.prototype.split=function(r,s){for(var f=4194303,h=Math.min(r.length,9),u=0;u<h;u++)s.words[u]=r.words[u];if(s.length=h,r.length<=9){r.words[0]=0,r.length=1;return}var m=r.words[9];for(s.words[s.length++]=m&f,u=10;u<r.length;u++){var g=r.words[u]|0;r.words[u-10]=(g&f)<<4|m>>>22,m=g}m>>>=22,r.words[u-10]=m,m===0&&r.length>10?r.length-=10:r.length-=9},Dt.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var s=0,f=0;f<r.length;f++){var h=r.words[f]|0;s+=h*977,r.words[f]=s&67108863,s=h*64+(s/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function Yt(){wt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Yt,wt);function Sr(){wt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Sr,wt);function dr(){wt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(dr,wt),dr.prototype.imulK=function(r){for(var s=0,f=0;f<r.length;f++){var h=(r.words[f]|0)*19+s,u=h&67108863;h>>>=26,r.words[f]=u,s=h}return s!==0&&(r.words[r.length++]=s),r},i._prime=function(r){if(Zt[r])return Zt[r];var s;if(r==="k256")s=new Dt;else if(r==="p224")s=new Yt;else if(r==="p192")s=new Sr;else if(r==="p25519")s=new dr;else throw new Error("Unknown prime "+r);return Zt[r]=s,s};function P(p){if(typeof p=="string"){var r=i._prime(p);this.m=r.p,this.prime=r}else e(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}P.prototype._verify1=function(r){e(r.negative===0,"red works only with positives"),e(r.red,"red works only with red numbers")},P.prototype._verify2=function(r,s){e((r.negative|s.negative)===0,"red works only with positives"),e(r.red&&r.red===s.red,"red works only with red numbers")},P.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):(b(r,r.umod(this.m)._forceRed(this)),r)},P.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},P.prototype.add=function(r,s){this._verify2(r,s);var f=r.add(s);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},P.prototype.iadd=function(r,s){this._verify2(r,s);var f=r.iadd(s);return f.cmp(this.m)>=0&&f.isub(this.m),f},P.prototype.sub=function(r,s){this._verify2(r,s);var f=r.sub(s);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},P.prototype.isub=function(r,s){this._verify2(r,s);var f=r.isub(s);return f.cmpn(0)<0&&f.iadd(this.m),f},P.prototype.shl=function(r,s){return this._verify1(r),this.imod(r.ushln(s))},P.prototype.imul=function(r,s){return this._verify2(r,s),this.imod(r.imul(s))},P.prototype.mul=function(r,s){return this._verify2(r,s),this.imod(r.mul(s))},P.prototype.isqr=function(r){return this.imul(r,r.clone())},P.prototype.sqr=function(r){return this.mul(r,r)},P.prototype.sqrt=function(r){if(r.isZero())return r.clone();var s=this.m.andln(3);if(e(s%2===1),s===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(r,f)}for(var h=this.m.subn(1),u=0;!h.isZero()&&h.andln(1)===0;)u++,h.iushrn(1);e(!h.isZero());var m=new i(1).toRed(this),g=m.redNeg(),l=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new i(2*n*n).toRed(this);this.pow(n,l).cmp(g)!==0;)n.redIAdd(g);for(var c=this.pow(n,h),w=this.pow(r,h.addn(1).iushrn(1)),M=this.pow(r,h),_=u;M.cmp(m)!==0;){for(var E=M,I=0;E.cmp(m)!==0;I++)E=E.redSqr();e(I<_);var F=this.pow(c,new i(1).iushln(_-I-1));w=w.redMul(F),c=F.redSqr(),M=M.redMul(c),_=I}return w},P.prototype.invm=function(r){var s=r._invmp(this.m);return s.negative!==0?(s.negative=0,this.imod(s).redNeg()):this.imod(s)},P.prototype.pow=function(r,s){if(s.isZero())return new i(1).toRed(this);if(s.cmpn(1)===0)return r.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=r;for(var u=2;u<h.length;u++)h[u]=this.mul(h[u-1],r);var m=h[0],g=0,l=0,n=s.bitLength()%26;for(n===0&&(n=26),u=s.length-1;u>=0;u--){for(var c=s.words[u],w=n-1;w>=0;w--){var M=c>>w&1;if(m!==h[0]&&(m=this.sqr(m)),M===0&&g===0){l=0;continue}g<<=1,g|=M,l++,!(l!==f&&(u!==0||w!==0))&&(m=this.mul(m,h[g]),l=0,g=0)}n=26}return m},P.prototype.convertTo=function(r){var s=r.umod(this.m);return s===r?s.clone():s},P.prototype.convertFrom=function(r){var s=r.clone();return s.red=null,s},i.mont=function(r){return new Lt(r)};function Lt(p){P.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Lt,P),Lt.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},Lt.prototype.convertFrom=function(r){var s=this.imod(r.mul(this.rinv));return s.red=null,s},Lt.prototype.imul=function(r,s){if(r.isZero()||s.isZero())return r.words[0]=0,r.length=1,r;var f=r.imul(s),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Lt.prototype.mul=function(r,s){if(r.isZero()||s.isZero())return new i(0)._forceRed(this);var f=r.mul(s),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Lt.prototype.invm=function(r){var s=this.imod(r._invmp(this.m).mul(this.r2));return s._forceRed(this)}})(typeof Te>"u"||Te,An)});var Tr=_t((h0,kn)=>{kn.exports=Ln;function Ln(o,t){if(!o)throw new Error(t||"Assertion failed")}Ln.equal=function(t,e,a){if(t!=e)throw new Error(a||"Assertion failed: "+t+" != "+e)}});var Vn=_t((u0,Oe)=>{typeof Object.create=="function"?Oe.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Oe.exports=function(t,e){if(e){t.super_=e;var a=function(){};a.prototype=e.prototype,t.prototype=new a,t.prototype.constructor=t}}});var Jn=_t((l0,Se)=>{try{if(Re=fn("util"),typeof Re.inherits!="function")throw"";Se.exports=Re.inherits}catch{Se.exports=Vn()}var Re});var Ft=_t(B=>{"use strict";var Vi=Tr(),Ji=Jn();B.inherits=Ji;function qi(o,t){return(o.charCodeAt(t)&64512)!==55296||t<0||t+1>=o.length?!1:(o.charCodeAt(t+1)&64512)===56320}function $i(o,t){if(Array.isArray(o))return o.slice();if(!o)return[];var e=[];if(typeof o=="string")if(t){if(t==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),i=0;i<o.length;i+=2)e.push(parseInt(o[i]+o[i+1],16))}else for(var a=0,i=0;i<o.length;i++){var d=o.charCodeAt(i);d<128?e[a++]=d:d<2048?(e[a++]=d>>6|192,e[a++]=d&63|128):qi(o,i)?(d=65536+((d&1023)<<10)+(o.charCodeAt(++i)&1023),e[a++]=d>>18|240,e[a++]=d>>12&63|128,e[a++]=d>>6&63|128,e[a++]=d&63|128):(e[a++]=d>>12|224,e[a++]=d>>6&63|128,e[a++]=d&63|128)}else for(i=0;i<o.length;i++)e[i]=o[i]|0;return e}B.toArray=$i;function zi(o){for(var t="",e=0;e<o.length;e++)t+=$n(o[e].toString(16));return t}B.toHex=zi;function qn(o){var t=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return t>>>0}B.htonl=qn;function Hi(o,t){for(var e="",a=0;a<o.length;a++){var i=o[a];t==="little"&&(i=qn(i)),e+=zn(i.toString(16))}return e}B.toHex32=Hi;function $n(o){return o.length===1?"0"+o:o}B.zero2=$n;function zn(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}B.zero8=zn;function Zi(o,t,e,a){var i=e-t;Vi(i%4===0);for(var d=new Array(i/4),y=0,v=t;y<d.length;y++,v+=4){var x;a==="big"?x=o[v]<<24|o[v+1]<<16|o[v+2]<<8|o[v+3]:x=o[v+3]<<24|o[v+2]<<16|o[v+1]<<8|o[v],d[y]=x>>>0}return d}B.join32=Zi;function Wi(o,t){for(var e=new Array(o.length*4),a=0,i=0;a<o.length;a++,i+=4){var d=o[a];t==="big"?(e[i]=d>>>24,e[i+1]=d>>>16&255,e[i+2]=d>>>8&255,e[i+3]=d&255):(e[i+3]=d>>>24,e[i+2]=d>>>16&255,e[i+1]=d>>>8&255,e[i]=d&255)}return e}B.split32=Wi;function Gi(o,t){return o>>>t|o<<32-t}B.rotr32=Gi;function Ki(o,t){return o<<t|o>>>32-t}B.rotl32=Ki;function Xi(o,t){return o+t>>>0}B.sum32=Xi;function Yi(o,t,e){return o+t+e>>>0}B.sum32_3=Yi;function Qi(o,t,e,a){return o+t+e+a>>>0}B.sum32_4=Qi;function ji(o,t,e,a,i){return o+t+e+a+i>>>0}B.sum32_5=ji;function to(o,t,e,a){var i=o[t],d=o[t+1],y=a+d>>>0,v=(y<a?1:0)+e+i;o[t]=v>>>0,o[t+1]=y}B.sum64=to;function ro(o,t,e,a){var i=t+a>>>0,d=(i<t?1:0)+o+e;return d>>>0}B.sum64_hi=ro;function eo(o,t,e,a){var i=t+a;return i>>>0}B.sum64_lo=eo;function no(o,t,e,a,i,d,y,v){var x=0,b=t;b=b+a>>>0,x+=b<t?1:0,b=b+d>>>0,x+=b<d?1:0,b=b+v>>>0,x+=b<v?1:0;var A=o+e+i+y+x;return A>>>0}B.sum64_4_hi=no;function io(o,t,e,a,i,d,y,v){var x=t+a+d+v;return x>>>0}B.sum64_4_lo=io;function oo(o,t,e,a,i,d,y,v,x,b){var A=0,T=t;T=T+a>>>0,A+=T<t?1:0,T=T+d>>>0,A+=T<d?1:0,T=T+v>>>0,A+=T<v?1:0,T=T+b>>>0,A+=T<b?1:0;var O=o+e+i+y+x+A;return O>>>0}B.sum64_5_hi=oo;function so(o,t,e,a,i,d,y,v,x,b){var A=t+a+d+v+b;return A>>>0}B.sum64_5_lo=so;function ao(o,t,e){var a=t<<32-e|o>>>e;return a>>>0}B.rotr64_hi=ao;function fo(o,t,e){var a=o<<32-e|t>>>e;return a>>>0}B.rotr64_lo=fo;function ho(o,t,e){return o>>>e}B.shr64_hi=ho;function uo(o,t,e){var a=o<<32-e|t>>>e;return a>>>0}B.shr64_lo=uo});var Er=_t(Zn=>{"use strict";var Hn=Ft(),lo=Tr();function jr(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zn.BlockHash=jr;jr.prototype.update=function(t,e){if(t=Hn.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var a=t.length%this._delta8;this.pending=t.slice(t.length-a,t.length),this.pending.length===0&&(this.pending=null),t=Hn.join32(t,0,t.length-a,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};jr.prototype.digest=function(t){return this.update(this._pad()),lo(this.pending===null),this._digest(t)};jr.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,a=e-(t+this.padLength)%e,i=new Array(a+this.padLength);i[0]=128;for(var d=1;d<a;d++)i[d]=0;if(t<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)i[d++]=0;i[d++]=0,i[d++]=0,i[d++]=0,i[d++]=0,i[d++]=t>>>24&255,i[d++]=t>>>16&255,i[d++]=t>>>8&255,i[d++]=t&255}else for(i[d++]=t&255,i[d++]=t>>>8&255,i[d++]=t>>>16&255,i[d++]=t>>>24&255,i[d++]=0,i[d++]=0,i[d++]=0,i[d++]=0,y=8;y<this.padLength;y++)i[d++]=0;return i}});var Be=_t(Wt=>{"use strict";var co=Ft(),Vt=co.rotr32;function po(o,t,e,a){if(o===0)return Wn(t,e,a);if(o===1||o===3)return Kn(t,e,a);if(o===2)return Gn(t,e,a)}Wt.ft_1=po;function Wn(o,t,e){return o&t^~o&e}Wt.ch32=Wn;function Gn(o,t,e){return o&t^o&e^t&e}Wt.maj32=Gn;function Kn(o,t,e){return o^t^e}Wt.p32=Kn;function mo(o){return Vt(o,2)^Vt(o,13)^Vt(o,22)}Wt.s0_256=mo;function go(o){return Vt(o,6)^Vt(o,11)^Vt(o,25)}Wt.s1_256=go;function yo(o){return Vt(o,7)^Vt(o,18)^o>>>3}Wt.g0_256=yo;function vo(o){return Vt(o,17)^Vt(o,19)^o>>>10}Wt.g1_256=vo});var Qn=_t((m0,Yn)=>{"use strict";var Nr=Ft(),xo=Er(),bo=Be(),Fe=Nr.rotl32,$r=Nr.sum32,wo=Nr.sum32_5,Mo=bo.ft_1,Xn=xo.BlockHash,Ao=[1518500249,1859775393,2400959708,3395469782];function Jt(){if(!(this instanceof Jt))return new Jt;Xn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Nr.inherits(Jt,Xn);Yn.exports=Jt;Jt.blockSize=512;Jt.outSize=160;Jt.hmacStrength=80;Jt.padLength=64;Jt.prototype._update=function(t,e){for(var a=this.W,i=0;i<16;i++)a[i]=t[e+i];for(;i<a.length;i++)a[i]=Fe(a[i-3]^a[i-8]^a[i-14]^a[i-16],1);var d=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4];for(i=0;i<a.length;i++){var A=~~(i/20),T=wo(Fe(d,5),Mo(A,y,v,x),b,a[i],Ao[A]);b=x,x=v,v=Fe(y,30),y=d,d=T}this.h[0]=$r(this.h[0],d),this.h[1]=$r(this.h[1],y),this.h[2]=$r(this.h[2],v),this.h[3]=$r(this.h[3],x),this.h[4]=$r(this.h[4],b)};Jt.prototype._digest=function(t){return t==="hex"?Nr.toHex32(this.h,"big"):Nr.split32(this.h,"big")}});var Ue=_t((g0,ti)=>{"use strict";var Cr=Ft(),_o=Er(),Ir=Be(),To=Tr(),Ut=Cr.sum32,Eo=Cr.sum32_4,No=Cr.sum32_5,Co=Ir.ch32,Io=Ir.maj32,Oo=Ir.s0_256,Ro=Ir.s1_256,So=Ir.g0_256,Bo=Ir.g1_256,jn=_o.BlockHash,Fo=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qt(){if(!(this instanceof qt))return new qt;jn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Fo,this.W=new Array(64)}Cr.inherits(qt,jn);ti.exports=qt;qt.blockSize=512;qt.outSize=256;qt.hmacStrength=192;qt.padLength=64;qt.prototype._update=function(t,e){for(var a=this.W,i=0;i<16;i++)a[i]=t[e+i];for(;i<a.length;i++)a[i]=Eo(Bo(a[i-2]),a[i-7],So(a[i-15]),a[i-16]);var d=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4],A=this.h[5],T=this.h[6],O=this.h[7];for(To(this.k.length===a.length),i=0;i<a.length;i++){var C=No(O,Ro(b),Co(b,A,T),this.k[i],a[i]),R=Ut(Oo(d),Io(d,y,v));O=T,T=A,A=b,b=Ut(x,C),x=v,v=y,y=d,d=Ut(C,R)}this.h[0]=Ut(this.h[0],d),this.h[1]=Ut(this.h[1],y),this.h[2]=Ut(this.h[2],v),this.h[3]=Ut(this.h[3],x),this.h[4]=Ut(this.h[4],b),this.h[5]=Ut(this.h[5],A),this.h[6]=Ut(this.h[6],T),this.h[7]=Ut(this.h[7],O)};qt.prototype._digest=function(t){return t==="hex"?Cr.toHex32(this.h,"big"):Cr.split32(this.h,"big")}});var ni=_t((y0,ei)=>{"use strict";var Pe=Ft(),ri=Ue();function Gt(){if(!(this instanceof Gt))return new Gt;ri.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Pe.inherits(Gt,ri);ei.exports=Gt;Gt.blockSize=512;Gt.outSize=224;Gt.hmacStrength=192;Gt.padLength=64;Gt.prototype._digest=function(t){return t==="hex"?Pe.toHex32(this.h.slice(0,7),"big"):Pe.split32(this.h.slice(0,7),"big")}});var ke=_t((v0,ai)=>{"use strict";var Ct=Ft(),Uo=Er(),Po=Tr(),$t=Ct.rotr64_hi,zt=Ct.rotr64_lo,ii=Ct.shr64_hi,oi=Ct.shr64_lo,nr=Ct.sum64,De=Ct.sum64_hi,Le=Ct.sum64_lo,Do=Ct.sum64_4_hi,Lo=Ct.sum64_4_lo,ko=Ct.sum64_5_hi,Vo=Ct.sum64_5_lo,si=Uo.BlockHash,Jo=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pt(){if(!(this instanceof Pt))return new Pt;si.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Jo,this.W=new Array(160)}Ct.inherits(Pt,si);ai.exports=Pt;Pt.blockSize=1024;Pt.outSize=512;Pt.hmacStrength=192;Pt.padLength=128;Pt.prototype._prepareBlock=function(t,e){for(var a=this.W,i=0;i<32;i++)a[i]=t[e+i];for(;i<a.length;i+=2){var d=Qo(a[i-4],a[i-3]),y=jo(a[i-4],a[i-3]),v=a[i-14],x=a[i-13],b=Xo(a[i-30],a[i-29]),A=Yo(a[i-30],a[i-29]),T=a[i-32],O=a[i-31];a[i]=Do(d,y,v,x,b,A,T,O),a[i+1]=Lo(d,y,v,x,b,A,T,O)}};Pt.prototype._update=function(t,e){this._prepareBlock(t,e);var a=this.W,i=this.h[0],d=this.h[1],y=this.h[2],v=this.h[3],x=this.h[4],b=this.h[5],A=this.h[6],T=this.h[7],O=this.h[8],C=this.h[9],R=this.h[10],Et=this.h[11],Rt=this.h[12],Xt=this.h[13],lr=this.h[14],cr=this.h[15];Po(this.k.length===a.length);for(var Mt=0;Mt<a.length;Mt+=2){var Zt=lr,wt=cr,Dt=Go(O,C),Yt=Ko(O,C),Sr=qo(O,C,R,Et,Rt,Xt),dr=$o(O,C,R,Et,Rt,Xt),P=this.k[Mt],Lt=this.k[Mt+1],p=a[Mt],r=a[Mt+1],s=ko(Zt,wt,Dt,Yt,Sr,dr,P,Lt,p,r),f=Vo(Zt,wt,Dt,Yt,Sr,dr,P,Lt,p,r);Zt=Zo(i,d),wt=Wo(i,d),Dt=zo(i,d,y,v,x,b),Yt=Ho(i,d,y,v,x,b);var h=De(Zt,wt,Dt,Yt),u=Le(Zt,wt,Dt,Yt);lr=Rt,cr=Xt,Rt=R,Xt=Et,R=O,Et=C,O=De(A,T,s,f),C=Le(T,T,s,f),A=x,T=b,x=y,b=v,y=i,v=d,i=De(s,f,h,u),d=Le(s,f,h,u)}nr(this.h,0,i,d),nr(this.h,2,y,v),nr(this.h,4,x,b),nr(this.h,6,A,T),nr(this.h,8,O,C),nr(this.h,10,R,Et),nr(this.h,12,Rt,Xt),nr(this.h,14,lr,cr)};Pt.prototype._digest=function(t){return t==="hex"?Ct.toHex32(this.h,"big"):Ct.split32(this.h,"big")};function qo(o,t,e,a,i){var d=o&e^~o&i;return d<0&&(d+=4294967296),d}function $o(o,t,e,a,i,d){var y=t&a^~t&d;return y<0&&(y+=4294967296),y}function zo(o,t,e,a,i){var d=o&e^o&i^e&i;return d<0&&(d+=4294967296),d}function Ho(o,t,e,a,i,d){var y=t&a^t&d^a&d;return y<0&&(y+=4294967296),y}function Zo(o,t){var e=$t(o,t,28),a=$t(t,o,2),i=$t(t,o,7),d=e^a^i;return d<0&&(d+=4294967296),d}function Wo(o,t){var e=zt(o,t,28),a=zt(t,o,2),i=zt(t,o,7),d=e^a^i;return d<0&&(d+=4294967296),d}function Go(o,t){var e=$t(o,t,14),a=$t(o,t,18),i=$t(t,o,9),d=e^a^i;return d<0&&(d+=4294967296),d}function Ko(o,t){var e=zt(o,t,14),a=zt(o,t,18),i=zt(t,o,9),d=e^a^i;return d<0&&(d+=4294967296),d}function Xo(o,t){var e=$t(o,t,1),a=$t(o,t,8),i=ii(o,t,7),d=e^a^i;return d<0&&(d+=4294967296),d}function Yo(o,t){var e=zt(o,t,1),a=zt(o,t,8),i=oi(o,t,7),d=e^a^i;return d<0&&(d+=4294967296),d}function Qo(o,t){var e=$t(o,t,19),a=$t(t,o,29),i=ii(o,t,6),d=e^a^i;return d<0&&(d+=4294967296),d}function jo(o,t){var e=zt(o,t,19),a=zt(t,o,29),i=oi(o,t,6),d=e^a^i;return d<0&&(d+=4294967296),d}});var ui=_t((x0,hi)=>{"use strict";var Ve=Ft(),fi=ke();function Kt(){if(!(this instanceof Kt))return new Kt;fi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ve.inherits(Kt,fi);hi.exports=Kt;Kt.blockSize=1024;Kt.outSize=384;Kt.hmacStrength=192;Kt.padLength=128;Kt.prototype._digest=function(t){return t==="hex"?Ve.toHex32(this.h.slice(0,12),"big"):Ve.split32(this.h.slice(0,12),"big")}});var li=_t(Or=>{"use strict";Or.sha1=Qn();Or.sha224=ni();Or.sha256=Ue();Or.sha384=ui();Or.sha512=ke()});var yi=_t(gi=>{"use strict";var hr=Ft(),ts=Er(),te=hr.rotl32,ci=hr.sum32,zr=hr.sum32_3,di=hr.sum32_4,mi=ts.BlockHash;function Ht(){if(!(this instanceof Ht))return new Ht;mi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}hr.inherits(Ht,mi);gi.ripemd160=Ht;Ht.blockSize=512;Ht.outSize=160;Ht.hmacStrength=192;Ht.padLength=64;Ht.prototype._update=function(t,e){for(var a=this.h[0],i=this.h[1],d=this.h[2],y=this.h[3],v=this.h[4],x=a,b=i,A=d,T=y,O=v,C=0;C<80;C++){var R=ci(te(di(a,pi(C,i,d,y),t[ns[C]+e],rs(C)),os[C]),v);a=v,v=y,y=te(d,10),d=i,i=R,R=ci(te(di(x,pi(79-C,b,A,T),t[is[C]+e],es(C)),ss[C]),O),x=O,O=T,T=te(A,10),A=b,b=R}R=zr(this.h[1],d,T),this.h[1]=zr(this.h[2],y,O),this.h[2]=zr(this.h[3],v,x),this.h[3]=zr(this.h[4],a,b),this.h[4]=zr(this.h[0],i,A),this.h[0]=R};Ht.prototype._digest=function(t){return t==="hex"?hr.toHex32(this.h,"little"):hr.split32(this.h,"little")};function pi(o,t,e,a){return o<=15?t^e^a:o<=31?t&e|~t&a:o<=47?(t|~e)^a:o<=63?t&a|e&~a:t^(e|~a)}function rs(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function es(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}var ns=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],is=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],os=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ss=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var xi=_t((M0,vi)=>{"use strict";var as=Ft(),fs=Tr();function Rr(o,t,e){if(!(this instanceof Rr))return new Rr(o,t,e);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(as.toArray(t,e))}vi.exports=Rr;Rr.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),fs(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)};Rr.prototype.update=function(t,e){return this.inner.update(t,e),this};Rr.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}});var wi=_t(bi=>{var At=bi;At.utils=Ft();At.common=Er();At.sha=li();At.ripemd=yi();At.hmac=xi();At.sha1=At.sha.sha1;At.sha256=At.sha.sha256;At.sha224=At.sha.sha224;At.sha384=At.sha.sha384;At.sha512=At.sha.sha512;At.ripemd160=At.ripemd.ripemd160});var ln="logger/5.7.0";var cn=!1,dn=!1,Hr={debug:1,default:2,info:2,warning:3,error:4,off:5},pn=Hr.default,Me=null;function Si(){try{let o=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{o.push(t)}}),o.length)throw new Error("missing "+o.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(o){return o.message}return null}var mn=Si(),Ae;(function(o){o.DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF"})(Ae||(Ae={}));var St;(function(o){o.UNKNOWN_ERROR="UNKNOWN_ERROR",o.NOT_IMPLEMENTED="NOT_IMPLEMENTED",o.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",o.NETWORK_ERROR="NETWORK_ERROR",o.SERVER_ERROR="SERVER_ERROR",o.TIMEOUT="TIMEOUT",o.BUFFER_OVERRUN="BUFFER_OVERRUN",o.NUMERIC_FAULT="NUMERIC_FAULT",o.MISSING_NEW="MISSING_NEW",o.INVALID_ARGUMENT="INVALID_ARGUMENT",o.MISSING_ARGUMENT="MISSING_ARGUMENT",o.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",o.CALL_EXCEPTION="CALL_EXCEPTION",o.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",o.NONCE_EXPIRED="NONCE_EXPIRED",o.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",o.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",o.TRANSACTION_REPLACED="TRANSACTION_REPLACED",o.ACTION_REJECTED="ACTION_REJECTED"})(St||(St={}));var gn="0123456789abcdef",N=class{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){let a=t.toLowerCase();Hr[a]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(pn>Hr[a])&&console.log.apply(console,e)}debug(...t){this._log(N.levels.DEBUG,t)}info(...t){this._log(N.levels.INFO,t)}warn(...t){this._log(N.levels.WARNING,t)}makeError(t,e,a){if(dn)return this.makeError("censored error",e,{});e||(e=N.errors.UNKNOWN_ERROR),a||(a={});let i=[];Object.keys(a).forEach(x=>{let b=a[x];try{if(b instanceof Uint8Array){let A="";for(let T=0;T<b.length;T++)A+=gn[b[T]>>4],A+=gn[b[T]&15];i.push(x+"=Uint8Array(0x"+A+")")}else i.push(x+"="+JSON.stringify(b))}catch{i.push(x+"="+JSON.stringify(a[x].toString()))}}),i.push(`code=${e}`),i.push(`version=${this.version}`);let d=t,y="";switch(e){case St.NUMERIC_FAULT:{y="NUMERIC_FAULT";let x=t;switch(x){case"overflow":case"underflow":case"division-by-zero":y+="-"+x;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case St.CALL_EXCEPTION:case St.INSUFFICIENT_FUNDS:case St.MISSING_NEW:case St.NONCE_EXPIRED:case St.REPLACEMENT_UNDERPRICED:case St.TRANSACTION_REPLACED:case St.UNPREDICTABLE_GAS_LIMIT:y=e;break}y&&(t+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),i.length&&(t+=" ("+i.join(", ")+")");let v=new Error(t);return v.reason=d,v.code=e,Object.keys(a).forEach(function(x){v[x]=a[x]}),v}throwError(t,e,a){throw this.makeError(t,e,a)}throwArgumentError(t,e,a){return this.throwError(t,N.errors.INVALID_ARGUMENT,{argument:e,value:a})}assert(t,e,a,i){t||this.throwError(e,a,i)}assertArgument(t,e,a,i){t||this.throwArgumentError(e,a,i)}checkNormalize(t){t==null&&(t="platform missing String.prototype.normalize"),mn&&this.throwError("platform missing String.prototype.normalize",N.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mn})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,a){a?a=": "+a:a="",t<e&&this.throwError("missing argument"+a,N.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+a,N.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",N.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Me||(Me=new N(ln)),Me}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),cn){if(!t)return;this.globalLogger().throwError("error censorship permanent",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}dn=!!t,cn=!!e}static setLogLevel(t){let e=Hr[t.toLowerCase()];if(e==null){N.globalLogger().warn("invalid log level - "+t);return}pn=e}static from(t){return new N(t)}};N.errors=St;N.levels=Ae;function yn(){return{FORC:"0.35.5",FUEL_CORE:"0.17.3",FUELS:"0.38.1"}}var pr=yn();var Bi=new N(pr.FUELS),S=class{name;type;encodedLength;offset;constructor(t,e,a){this.name=t,this.type=e,this.encodedLength=a}throwError(t,e){throw Bi.throwArgumentError(t,this.name,e),new Error("unreachable")}setOffset(t){this.offset=t}};var vn="bytes/5.7.0";var mr=new N(vn);function bn(o){return!!o.toHexString}function Pr(o){return o.slice||(o.slice=function(){let t=Array.prototype.slice.call(arguments);return Pr(new Uint8Array(Array.prototype.slice.apply(o,t)))}),o}function xn(o){return typeof o=="number"&&o==o&&o%1===0}function wn(o){if(o==null)return!1;if(o.constructor===Uint8Array)return!0;if(typeof o=="string"||!xn(o.length)||o.length<0)return!1;for(let t=0;t<o.length;t++){let e=o[t];if(!xn(e)||e<0||e>=256)return!1}return!0}function Tt(o,t){if(t||(t={}),typeof o=="number"){mr.checkSafeUint53(o,"invalid arrayify value");let e=[];for(;o;)e.unshift(o&255),o=parseInt(String(o/256));return e.length===0&&e.push(0),Pr(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),bn(o)&&(o=o.toHexString()),Mn(o)){let e=o.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":mr.throwArgumentError("hex data is odd-length","value",o));let a=[];for(let i=0;i<e.length;i+=2)a.push(parseInt(e.substring(i,i+2),16));return Pr(new Uint8Array(a))}return wn(o)?Pr(new Uint8Array(o)):mr.throwArgumentError("invalid arrayify value","value",o)}function xt(o){let t=o.map(i=>Tt(i)),e=t.reduce((i,d)=>i+d.length,0),a=new Uint8Array(e);return t.reduce((i,d)=>(a.set(d,i),i+d.length),0),Pr(a)}function Mn(o,t){return!(typeof o!="string"||!o.match(/^0x[0-9A-Fa-f]*$/)||t&&o.length!==2+2*t)}var _e="0123456789abcdef";function Dr(o,t){if(t||(t={}),typeof o=="number"){mr.checkSafeUint53(o,"invalid hexlify value");let e="";for(;o;)e=_e[o&15]+e,o=Math.floor(o/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof o=="bigint")return o=o.toString(16),o.length%2?"0x0"+o:"0x"+o;if(t.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),bn(o))return o.toHexString();if(Mn(o))return o.length%2&&(t.hexPad==="left"?o="0x0"+o.substring(2):t.hexPad==="right"?o+="0":mr.throwArgumentError("hex data is odd-length","value",o)),o.toLowerCase();if(wn(o)){let e="0x";for(let a=0;a<o.length;a++){let i=o[a];e+=_e[(i&240)>>4]+_e[i&15]}return e}return mr.throwArgumentError("invalid hexlify value","value",o)}var ar=class extends S{coder;length;constructor(t,e){super("array",`[${t.type}; ${e}]`,e*t.encodedLength),this.coder=t,this.length=e}encode(t){return Array.isArray(t)||this.throwError("expected array value",t),this.length!==t.length&&this.throwError("Types/values length mismatch",t),xt(Array.from(t).map(e=>this.coder.encode(e)))}decode(t,e){let a=e;return[Array(this.length).fill(0).map(()=>{let d;return[d,a]=this.coder.decode(t,a),d}),a]}};var Lr=hn(_n());function Tn(o,t){let{precision:e=9,minPrecision:a=3}=t||{},[i="0",d="0"]=String(o||"0.0").split("."),y=/(\d)(?=(\d{3})+\b)/g,v=i.replace(y,"$1,"),x=d.slice(0,e);if(a<e){let A=x.match(/.*[1-9]{1}/),T=(A==null?void 0:A[0].length)||0,O=Math.max(a,T);x=x.slice(0,O)}let b=x?`.${x}`:"";return`${v}${b}`}var L=class extends Lr.default{constructor(t,e,a){if(L.isBN(t)){super(t.toArray(),e,a);return}if(typeof t=="string"&&t.slice(0,2)==="0x"){super(t.substring(2),e||"hex",a);return}let i=t==null?0:t;super(i,e,a)}toString(t,e){let a=super.toString(t,e);return t===16||t==="hex"?`0x${a}`:a}toHex(t){let a=(t||0)*2;if(this.isNeg())throw new Error("cannot convert negative value to hex");if(t&&this.byteLength()>t)throw new Error(`value ${this} exceeds bytes ${t}`);return this.toString(16,a)}toBytes(t){if(this.isNeg())throw new Error("cannot convert negative value to Bytes");return Uint8Array.from(this.toArray(void 0,t))}toJSON(){return this.toString(16)}valueOf(){return this.toString()}format(t){let{units:e=9,precision:a=9,minPrecision:i=3}=t||{},d=this.formatUnits(e),y=Tn(d,{precision:a,minPrecision:i});if(!parseFloat(y)){let[,v="0"]=d.split("."),x=v.match(/[1-9]/);if(x&&x.index&&x.index+1>a){let[b="0"]=y.split(".");return`${b}.${v.slice(0,x.index+1)}`}}return y}formatUnits(t=9){let e=this.toString().slice(0,t*-1),a=this.toString().slice(t*-1),i=a.length,d=Array.from({length:t-i}).fill("0").join("");return`${e?`${e}.`:"0."}${d}${a}`}add(t){return this.caller(t,"add")}pow(t){return this.caller(t,"pow")}sub(t){return this.caller(t,"sub")}div(t){return this.caller(t,"div")}mul(t){return this.caller(t,"mul")}mod(t){return this.caller(t,"mod")}divRound(t){return this.caller(t,"divRound")}lt(t){return this.caller(t,"lt")}lte(t){return this.caller(t,"lte")}gt(t){return this.caller(t,"gt")}gte(t){return this.caller(t,"gte")}eq(t){return this.caller(t,"eq")}cmp(t){return this.caller(t,"cmp")}sqr(){return new L(super.sqr().toArray())}neg(){return new L(super.neg().toArray())}abs(){return new L(super.abs().toArray())}toTwos(t){return new L(super.toTwos(t).toArray())}fromTwos(t){return new L(super.fromTwos(t).toArray())}caller(t,e){let a=super[e](new L(t));return L.isBN(a)?new L(a.toArray()):a}clone(){return new L(this.toArray())}mulTo(t,e){let a=new Lr.default(this.toArray()).mulTo(t,e);return new L(a.toArray())}egcd(t){let{a:e,b:a,gcd:i}=new Lr.default(this.toArray()).egcd(t);return{a:new L(e.toArray()),b:new L(a.toArray()),gcd:new L(i.toArray())}}divmod(t,e,a){let{div:i,mod:d}=new Lr.default(this.toArray()).divmod(new L(t),e,a);return{div:new L(i==null?void 0:i.toArray()),mod:new L(d==null?void 0:d.toArray())}}},bt=(o,t,e)=>new L(o,t,e);bt.parseUnits=(o,t=9)=>{let e=o==="."?"0.":o,[a="0",i="0"]=e.split("."),d=i.length;if(d>t)throw new Error("Decimal can't be bigger than the units");let y=Array.from({length:t}).fill("0");y.splice(0,d,i);let v=`${a.replaceAll(",","")}${y.join("")}`;return bt(v)};function Zr(o){return bt(o).toNumber()}function Wr(o,t){return bt(o).toHex(t)}function Bt(o,t){return bt(o).toBytes(t)}var gr=class extends S{constructor(){super("b256","b256",32)}encode(t){let e;try{e=Tt(t)}catch{this.throwError(`Invalid ${this.type}`,t)}return e.length!==32&&this.throwError(`Invalid ${this.type}`,t),e}decode(t,e){let a=t.slice(e,e+32);return bt(a).isZero()&&(a=new Uint8Array(32)),a.length!==32&&this.throwError("Invalid size for b256",a),[Wr(a,32),e+32]}};var yr=class extends S{constructor(){super("b512","struct B512",64)}encode(t){let e;try{e=Tt(t)}catch{this.throwError(`Invalid ${this.type}`,t)}return e.length!==64&&this.throwError(`Invalid ${this.type}`,t),e}decode(t,e){let a=t.slice(e,e+64);return bt(a).isZero()&&(a=new Uint8Array(64)),a.length!==64&&this.throwError("Invalid size for b512",a),[Wr(a,64),e+64]}};var jt=class extends S{constructor(){super("boolean","boolean",8)}encode(t){let e;try{e=Bt(t?1:0)}catch{this.throwError("Invalid bool",t)}return e.length>1&&this.throwError("Invalid bool",t),Bt(e,8)}decode(t,e){let a=bt(t.slice(e,e+8));return a.isZero()?[!1,e+8]:(a.eq(bt(1))||this.throwError("Invalid boolean value",a),[!0,e+8])}};var vr=class extends S{constructor(){super("byte","byte",8)}encode(t){let e;try{e=Bt(t,1)}catch{this.throwError("Invalid Byte",t)}return Bt(e,8)}decode(t,e){let a=t.slice(e,e+8),i=bt(a);return i.gt(bt(255))&&this.throwError("Invalid Byte",i),[Number(i),e+8]}};var It=class extends S{constructor(){super("u64","u64",8)}encode(t){let e;try{e=Bt(t,8)}catch{this.throwError(`Invalid ${this.type}`,t)}return e}decode(t,e){let a=t.slice(e,e+8);return a=a.slice(0,8),[bt(a),e+8]}};var kr,xr,tr=class extends S{constructor(e,a){let i=new It,d=Object.values(a).reduce((y,v)=>Math.max(y,v.encodedLength),0);super("enum",`enum ${e}`,i.encodedLength+d);Br(this,"name");Br(this,"coders");Fr(this,kr,void 0);Fr(this,xr,void 0);this.name=e,this.coders=a,Ur(this,kr,i),Ur(this,xr,d)}encode(e){let[a,...i]=Object.keys(e);if(!a)throw new Error("A field for the case must be provided");if(i.length!==0)throw new Error("Only one field must be provided");let d=this.coders[a],y=Object.keys(this.coders).indexOf(a),v=d.encode(e[a]),x=new Uint8Array(sr(this,xr)-d.encodedLength);return xt([sr(this,kr).encode(y),x,v])}decode(e,a){let i=a,d;[d,i]=new It().decode(e,i);let y=Zr(d),v=Object.keys(this.coders)[y];if(!v)throw new Error(`Invalid caseIndex "${y}". Valid cases: ${Object.keys(this.coders)}`);let x=this.coders[v];return i+=sr(this,xr)-x.encodedLength,[d,i]=x.decode(e,i),[{[v]:d},i]}};kr=new WeakMap,xr=new WeakMap;var br=class extends S{length;baseType;constructor(t){switch(super("number",t,8),this.baseType=t,t){case"u8":this.length=1;break;case"u16":this.length=2;break;case"u32":default:this.length=4;break}}encode(t){let e;try{e=Bt(t)}catch{this.throwError(`Invalid ${this.baseType}`,t)}return e.length>this.length&&this.throwError(`Invalid ${this.baseType}. Too many bytes.`,t),Bt(e,8)}decode(t,e){let a=t.slice(e,e+8);return a=a.slice(8-this.length,8),[Zr(a),e+8]}};var En="strings/5.7.0";var Nn=new N(En),Vr;(function(o){o.current="",o.NFC="NFC",o.NFD="NFD",o.NFKC="NFKC",o.NFKD="NFKD"})(Vr||(Vr={}));var Nt;(function(o){o.UNEXPECTED_CONTINUE="unexpected continuation byte",o.BAD_PREFIX="bad codepoint prefix",o.OVERRUN="string overrun",o.MISSING_CONTINUE="missing continuation byte",o.OUT_OF_RANGE="out of UTF-8 range",o.UTF16_SURROGATE="UTF-16 surrogate",o.OVERLONG="overlong representation"})(Nt||(Nt={}));function Fi(o,t,e,a,i){return Nn.throwArgumentError(`invalid codepoint at offset ${t}; ${o}`,"bytes",e)}function Cn(o,t,e,a,i){if(o===Nt.BAD_PREFIX||o===Nt.UNEXPECTED_CONTINUE){let d=0;for(let y=t+1;y<e.length&&e[y]>>6===2;y++)d++;return d}return o===Nt.OVERRUN?e.length-t-1:0}function Ui(o,t,e,a,i){return o===Nt.OVERLONG?(a.push(i),0):(a.push(65533),Cn(o,t,e,a,i))}var In=Object.freeze({error:Fi,ignore:Cn,replace:Ui});function Pi(o,t){t==null&&(t=In.error),o=Tt(o);let e=[],a=0;for(;a<o.length;){let i=o[a++];if(i>>7===0){e.push(i);continue}let d=null,y=null;if((i&224)===192)d=1,y=127;else if((i&240)===224)d=2,y=2047;else if((i&248)===240)d=3,y=65535;else{(i&192)===128?a+=t(Nt.UNEXPECTED_CONTINUE,a-1,o,e):a+=t(Nt.BAD_PREFIX,a-1,o,e);continue}if(a-1+d>=o.length){a+=t(Nt.OVERRUN,a-1,o,e);continue}let v=i&(1<<8-d-1)-1;for(let x=0;x<d;x++){let b=o[a];if((b&192)!=128){a+=t(Nt.MISSING_CONTINUE,a,o,e),v=null;break}v=v<<6|b&63,a++}if(v!==null){if(v>1114111){a+=t(Nt.OUT_OF_RANGE,a-1-d,o,e,v);continue}if(v>=55296&&v<=57343){a+=t(Nt.UTF16_SURROGATE,a-1-d,o,e,v);continue}if(v<=y){a+=t(Nt.OVERLONG,a-1-d,o,e,v);continue}e.push(v)}}return e}function wr(o,t=Vr.current){t!=Vr.current&&(Nn.checkNormalize(),o=o.normalize(t));let e=[];for(let a=0;a<o.length;a++){let i=o.charCodeAt(a);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192),e.push(i&63|128);else if((i&64512)==55296){a++;let d=o.charCodeAt(a);if(a>=o.length||(d&64512)!==56320)throw new Error("invalid utf-8 string");let y=65536+((i&1023)<<10)+(d&1023);e.push(y>>18|240),e.push(y>>12&63|128),e.push(y>>6&63|128),e.push(y&63|128)}else e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128)}return Tt(e)}function Di(o){return o.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Ie(o,t){return Di(Pi(o,t))}var Mr,Ar=class extends S{constructor(e){let a=(8-e)%8;a=a<0?a+8:a;super("string",`str[${e}]`,e+a);Br(this,"length");Fr(this,Mr,void 0);this.length=e,Ur(this,Mr,a)}encode(e){let a=wr(e.slice(0,this.length)),i=new Uint8Array(sr(this,Mr));return xt([a,i])}decode(e,a){let i=e.slice(a,a+this.length),d=Ie(i),y=sr(this,Mr);return[d,a+this.length+y]}};Mr=new WeakMap;var fr=class extends tr{encode(t){return super.encode(this.toSwayOption(t))}toSwayOption(t){return t!==void 0?{Some:t}:{None:[]}}decode(t,e){let[a,i]=super.decode(t,e);return[this.toOption(a),i]}toOption(t){if(t&&"Some"in t)return t.Some}};var _r=class extends S{name;coders;constructor(t,e){let a=Object.values(e).reduce((i,d)=>i+d.encodedLength,0);super("struct",`struct ${t}`,a),this.name=t,this.coders=e}encode(t){let e=Object.keys(this.coders).map(a=>{let i=this.coders[a],d=t[a];return!(i instanceof fr)&&d==null&&this.throwError(`Invalid ${this.type}. Field "${a}" not present.`,t),i.encode(d)});return xt(e)}decode(t,e){let a=e;return[Object.keys(this.coders).reduce((d,y)=>{let v=this.coders[y],x;return[x,a]=v.decode(t,a),d[y]=x,d},{}),a]}};var rr=class extends S{coders;constructor(t){let e=t.reduce((a,i)=>a+i.encodedLength,0);super("tuple",`(${t.map(a=>a.type).join(", ")})`,e),this.coders=t}encode(t){return this.coders.length!==t.length&&this.throwError("Types/values length mismatch",{value:t}),xt(this.coders.map((e,a)=>e.encode(t[a])))}decode(t,e){let a=e;return[this.coders.map(d=>{let y;return[y,a]=d.decode(t,a),y}),a]}};var Gr="enum Option",On="struct Vec",Kr=/str\[(?<length>[0-9]+)\]/,Jr=/\[(?<item>[\w\s\\[\]]+);\s*(?<length>[0-9]+)\]/,Xr=/^struct (?<name>\w+)$/,Yr=/^enum (?<name>\w+)$/,Rn=/^\((?<items>.*)\)$/,Sn=/^generic (?<name>\w+)$/,Bn=8,Pa=32,Da=255,La=32,ka=32,Va=10240,Ja=104;var Li=3,kt=class extends S{coder;constructor(t){super("struct","struct Vec",0),this.coder=t}static getBaseOffset(){return Li*8}getEncodedVectorData(t){Array.isArray(t)||this.throwError("expected array value",t);let e=Array.from(t).map(a=>this.coder.encode(a));return xt(e)}encode(t){Array.isArray(t)||this.throwError("expected array value",t);let e=[],a=this.offset||0;return e.push(new It().encode(a)),e.push(new It().encode(t.length)),e.push(new It().encode(t.length)),xt(e)}decode(t,e){return this.throwError("unexpected Vec decode","not implemented"),[void 0,e]}};function qr(o){return o.filter(t=>(t==null?void 0:t.type)!=="()"&&t!=="()")}function Fn(o){return o.some(t=>(t==null?void 0:t.type)===Gr)}function Un(o,t,e=0){let a=[],i=o.map((v,x)=>{if(!(v instanceof kt))return{byteLength:v.encodedLength};let b=v.getEncodedVectorData(t[x]);return a.push(b),{vecByteLength:b.byteLength}}),d=a.length*kt.getBaseOffset()+e,y=o.map((v,x)=>v instanceof kt?i.reduce((b,A,T)=>"byteLength"in A?b+A.byteLength:T===0&&T===x?d:T<x?b+A.vecByteLength+d:b,0):0);return o.forEach((v,x)=>v.setOffset(y[x])),a}var Qr=class{type;name;inputs=[];outputs=[];attributes=[];constructor(t){this.type=t.type,this.name=t.name,this.inputs=t.inputs,this.outputs=t.outputs,this.attributes=t.attributes}};var Pn="properties/5.7.0";var r0=new N(Pn);function Dn(o,t,e){Object.defineProperty(o,t,{enumerable:!0,value:e,writable:!1})}function ki(o,t){Object.keys(t).forEach(e=>{let a=e,i=t[a];Dn(o,a,i)})}var Ot=class{name;type;indexed;components;typeArguments;isParamType;constructor(t){ki(this,t),this.isParamType=!0,Object.freeze(this)}getSignaturePrefix(){if(this.type){if(Xr.test(this.type))return"s";if(Jr.test(this.type))return"a";if(Yr.test(this.type))return"e"}return""}getSignatureContent(){var i,d;let t=this.type||"";if(t==="raw untyped ptr")return"rawptr";let e=(i=Jr.exec(t))==null?void 0:i.groups;if(e)return`[${this.components?this.components[0].getSighash():e.item};${e.length}]`;let a=(d=Kr.exec(t))==null?void 0:d.groups;if(a)return`str[${a.length}]`;if(Array.isArray(this.components)){let y=Array.isArray(this.typeArguments)?`<${this.typeArguments.map(x=>x.getSighash()).join(",")}>`:"",v=`(${this.components.map(x=>x.getSighash()).join(",")})`;return`${y}${v}`}return t}getSighash(){let t=this.getSignaturePrefix(),e=this.getSignatureContent();return`${t}${e}`}static fromObject(t){return Ot.isParamType(t)?t:new Ot({name:t.name,type:t.type,components:t.components?t.components.map(Ot.fromObject):void 0,typeArguments:t.typeArguments?t.typeArguments.map(Ot.fromObject):void 0})}static isParamType(t){return Boolean(t==null?void 0:t.isParamType)}};var er=class extends Qr{static fromObject(t){let{inputs:e=[],outputs:a=[],attributes:i=[]}=t,d={type:"function",name:t.name,inputs:e.map(Ot.fromObject),outputs:a.map(Ot.fromObject),attributes:i};return new er(d)}getInputsSighash(){let t=this.inputs.map(e=>e.getSighash());return`${this.name}(${t.join(",")})`}};var Ai=hn(wi());var Mi="sha2/5.7.0";var C0=new N(Mi);function Je(o){return"0x"+Ai.default.sha256().update(Tt(o)).digest("hex")}var re=new N(pr.FUELS),ir=class{constructor(){re.checkNew(new.target,ir)}getCoder(t){var v,x,b,A,T,O;switch(t.type){case"u8":case"u16":case"u32":return new br(t.type);case"u64":case"raw untyped ptr":return new It;case"bool":return new jt;case"byte":return new vr;case"b256":return new gr;case"struct B512":return new yr;default:}let e=(v=Jr.exec(t.type))==null?void 0:v.groups;if(e){let C=parseInt(e.length,10),R=(x=t.components)==null?void 0:x[0];if(!R)throw new Error("Expected array type to have an item component");let Et=this.getCoder(R);return new ar(Et,C)}if(["raw untyped slice"].includes(t.type)){let R=this.getCoder({type:"u64"});return new ar(R,0)}let a=(b=Kr.exec(t.type))==null?void 0:b.groups;if(a){let C=parseInt(a.length,10);return new Ar(C)}if(t.type===On&&Array.isArray(t.typeArguments)){let C=t.typeArguments[0];if(!C)throw new Error("Expected Vec type to have a type argument");let R=this.getCoder(C);return new kt(R)}let i=(A=Xr.exec(t.type))==null?void 0:A.groups;if(i&&Array.isArray(t.components)){let C=t.components.reduce((R,Et)=>(R[Et.name]=this.getCoder(Et),R),{});return new _r(i.name,C)}let d=(T=Yr.exec(t.type))==null?void 0:T.groups;if(d&&Array.isArray(t.components)){let C=t.components.reduce((Et,Rt)=>(Et[Rt.name]=this.getCoder(Rt),Et),{});return t.type===Gr?new fr(d.name,C):new tr(d.name,C)}if(((O=Rn.exec(t.type))==null?void 0:O.groups)&&Array.isArray(t.components)){let C=t.components.map(R=>this.getCoder(R));return new rr(C)}return re.throwArgumentError("Invalid type","type",t.type)}encode(t,e,a=0){let i=qr(t),d=e.slice();Array.isArray(e)&&i.length!==e.length&&(Fn(t)?(d.length=t.length,d.fill(void 0,e.length)):re.throwError("Types/values length mismatch during encode",N.errors.INVALID_ARGUMENT,{count:{types:t.length,nonEmptyTypes:i.length,values:e.length},value:{types:t,nonEmptyTypes:i,values:e}}));let y=i.map(A=>this.getCoder(A)),v=Un(y,d,a),b=new rr(y).encode(d);return xt([b,xt(v)])}decode(t,e){let a=Tt(e),i=qr(t),d=A=>{A!==a.length&&re.throwError("Types/values length mismatch during decode",N.errors.INVALID_ARGUMENT,{count:{types:t.length,nonEmptyTypes:i.length,values:a.length,newOffset:A},value:{types:t,nonEmptyTypes:i,values:a}})};if(t.length===0||i.length===0){d(a.length?8:0);return}let y=i.map(A=>this.getCoder(A));i[0]&&i[0].type==="raw untyped slice"&&(y[0].length=a.length/8);let v=new rr(y),[x,b]=v.decode(a,0);return d(b),x}};var qe=o=>!Array.isArray(o),ur=class{types;functions;loggedTypes;constructor(t){this.types=t.types,this.functions=t.functions,this.loggedTypes=t.loggedTypes}parseLoggedType(t){return Ot.fromObject(this.parseInput(t.loggedType))}parseInput(t,e=new Map){let a=this.types[t.type],i,d;if(!a)throw new Error(`${t.type} not found`);if(Array.isArray(t.typeArguments)&&(d=t.typeArguments.map(y=>this.parseInput(y,e))),Array.isArray(a.typeParameters)&&Array.isArray(d)&&a.typeParameters.forEach((y,v)=>{d!=null&&d[v]&&e.set(y,d[v])}),Array.isArray(a.components)&&(i=a.components.map(y=>this.parseInput(y,e))),Sn.test(a.type)){let y=e.get(a.typeId);if(y)return{...y,name:t.name}}return{type:a.type,name:t.name,typeArguments:d,components:i}}static unflatten(t){return qe(t)?new ur(t).unflatten():t}unflattenLoggedTypes(){return this.loggedTypes.map(t=>({...t,abiFragmentType:[this.parseLoggedType(t)]}))}unflatten(){return this.functions.map(t=>({type:"function",name:t.name,inputs:(t.inputs||[]).map(e=>this.parseInput(e)),outputs:t.output?[this.parseInput(t.output)]:[],attributes:t.attributes||[]}))}},_i=o=>{switch(o){case"u8":case"u16":case"u32":case"u64":case"bool":return!1;default:return!0}};var $e=new N(pr.FUELS),hs=o=>{let t=[];return o.forEach(e=>{e.type==="function"&&t.push(er.fromObject(e))}),t},or=class{fragments;functions;abiCoder;abi;types;loggedTypes;externalLoggedTypes;constructor(t){this.abi=qe(t)?new ur(t):null,this.fragments=hs(ur.unflatten(t)),this.types=this.abi?this.abi.types:[],this.loggedTypes=this.abi?this.abi.unflattenLoggedTypes():[],this.externalLoggedTypes={},this.abiCoder=new ir,this.functions={},this.fragments.forEach(e=>{let a={};switch(e.type){case"function":a=this.functions;break;default:return}let i=e.getInputsSighash();if(a[i]){$e.warn(`duplicate definition - ${i}`);return}a[i]=e})}static getSighash(t){let e=typeof t=="string"?wr(t):wr(t.getInputsSighash());return xt([new Uint8Array(4),Tt(Je(e)).slice(0,4)])}getFunction(t){if(this.functions[t])return this.functions[t];let e=Object.values(this.functions).find(a=>Dr(or.getSighash(a))===t||a.name===t);return e||$e.throwArgumentError(`function ${t} not found.`,"data",e)}decodeFunctionData(t,e){let a=typeof t=="string"?this.getFunction(t):t,i=Tt(e);return Dr(i.slice(0,8))!==Dr(or.getSighash(a))&&$e.throwArgumentError(`data signature does not match function ${a.name}.`,"data",Dr(i)),this.abiCoder.decode(a.inputs,i.slice(16))}encodeFunctionData(t,e,a=0,i=!1){let d=typeof t=="string"?this.getFunction(t):t;if(!d)throw new Error("Fragment not found");let y=or.getSighash(d),v=qr(d.inputs);if(v.length===0)return y;let x=this.abiCoder.encode(v,e,a);if(i)return x;let b=v.length>1||_i(v[0].type);return xt([y,new jt().encode(b),x])}decodeFunctionResult(t,e){let a=typeof t=="string"?this.getFunction(t):t,i=Tt(e);return this.abiCoder.decode(a.outputs,i)}decodeLog(t,e,a){let d=(this.externalLoggedTypes[a]||this.loggedTypes).find(y=>y.logId===e);if(!(d!=null&&d.abiFragmentType))throw new Error(`Log ID - ${e} unknown`);return this.abiCoder.decode(d.abiFragmentType,t)}encodeFunctionResult(t,e){let a=typeof t=="string"?this.getFunction(t):t;if(!a)throw new Error("Fragment not found");return this.abiCoder.encode(a.outputs,e)}updateExternalLoggedTypes(t,e){this.externalLoggedTypes[t]=e}};})();
//# sourceMappingURL=index.global.js.map